{"ast":null,"code":"(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() : typeof define === 'function' && define.amd ? define(factory) : (global = global || self, global.GLightbox = factory());\n})(this, function () {\n  'use strict';\n\n  function _typeof(obj) {\n    \"@babel/helpers - typeof\";\n\n    if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n      _typeof = function (obj) {\n        return typeof obj;\n      };\n    } else {\n      _typeof = function (obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n      };\n    }\n    return _typeof(obj);\n  }\n  function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  }\n  function _defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n  function _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    return Constructor;\n  }\n  var uid = Date.now();\n  function extend() {\n    var extended = {};\n    var deep = true;\n    var i = 0;\n    var length = arguments.length;\n    if (Object.prototype.toString.call(arguments[0]) === '[object Boolean]') {\n      deep = arguments[0];\n      i++;\n    }\n    var merge = function merge(obj) {\n      for (var prop in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, prop)) {\n          if (deep && Object.prototype.toString.call(obj[prop]) === '[object Object]') {\n            extended[prop] = extend(true, extended[prop], obj[prop]);\n          } else {\n            extended[prop] = obj[prop];\n          }\n        }\n      }\n    };\n    for (; i < length; i++) {\n      var obj = arguments[i];\n      merge(obj);\n    }\n    return extended;\n  }\n  function each(collection, callback) {\n    if (isNode(collection) || collection === window || collection === document) {\n      collection = [collection];\n    }\n    if (!isArrayLike(collection) && !isObject(collection)) {\n      collection = [collection];\n    }\n    if (size(collection) == 0) {\n      return;\n    }\n    if (isArrayLike(collection) && !isObject(collection)) {\n      var l = collection.length,\n        i = 0;\n      for (; i < l; i++) {\n        if (callback.call(collection[i], collection[i], i, collection) === false) {\n          break;\n        }\n      }\n    } else if (isObject(collection)) {\n      for (var key in collection) {\n        if (has(collection, key)) {\n          if (callback.call(collection[key], collection[key], key, collection) === false) {\n            break;\n          }\n        }\n      }\n    }\n  }\n  function getNodeEvents(node) {\n    var name = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n    var fn = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n    var cache = node[uid] = node[uid] || [];\n    var data = {\n      all: cache,\n      evt: null,\n      found: null\n    };\n    if (name && fn && size(cache) > 0) {\n      each(cache, function (cl, i) {\n        if (cl.eventName == name && cl.fn.toString() == fn.toString()) {\n          data.found = true;\n          data.evt = i;\n          return false;\n        }\n      });\n    }\n    return data;\n  }\n  function addEvent(eventName) {\n    var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n      onElement = _ref.onElement,\n      withCallback = _ref.withCallback,\n      _ref$avoidDuplicate = _ref.avoidDuplicate,\n      avoidDuplicate = _ref$avoidDuplicate === void 0 ? true : _ref$avoidDuplicate,\n      _ref$once = _ref.once,\n      once = _ref$once === void 0 ? false : _ref$once,\n      _ref$useCapture = _ref.useCapture,\n      useCapture = _ref$useCapture === void 0 ? false : _ref$useCapture;\n    var thisArg = arguments.length > 2 ? arguments[2] : undefined;\n    var element = onElement || [];\n    if (isString(element)) {\n      element = document.querySelectorAll(element);\n    }\n    function handler(event) {\n      if (isFunction(withCallback)) {\n        withCallback.call(thisArg, event, this);\n      }\n      if (once) {\n        handler.destroy();\n      }\n    }\n    handler.destroy = function () {\n      each(element, function (el) {\n        var events = getNodeEvents(el, eventName, handler);\n        if (events.found) {\n          events.all.splice(events.evt, 1);\n        }\n        if (el.removeEventListener) {\n          el.removeEventListener(eventName, handler, useCapture);\n        }\n      });\n    };\n    each(element, function (el) {\n      var events = getNodeEvents(el, eventName, handler);\n      if (el.addEventListener && avoidDuplicate && !events.found || !avoidDuplicate) {\n        el.addEventListener(eventName, handler, useCapture);\n        events.all.push({\n          eventName: eventName,\n          fn: handler\n        });\n      }\n    });\n    return handler;\n  }\n  function addClass(node, name) {\n    each(name.split(' '), function (cl) {\n      return node.classList.add(cl);\n    });\n  }\n  function removeClass(node, name) {\n    each(name.split(' '), function (cl) {\n      return node.classList.remove(cl);\n    });\n  }\n  function hasClass(node, name) {\n    return node.classList.contains(name);\n  }\n  function closest(elem, selector) {\n    while (elem !== document.body) {\n      elem = elem.parentElement;\n      if (!elem) {\n        return false;\n      }\n      var matches = typeof elem.matches == 'function' ? elem.matches(selector) : elem.msMatchesSelector(selector);\n      if (matches) {\n        return elem;\n      }\n    }\n  }\n  function animateElement(element) {\n    var animation = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n    var callback = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n    if (!element || animation === '') {\n      return false;\n    }\n    if (animation === 'none') {\n      if (isFunction(callback)) {\n        callback();\n      }\n      return false;\n    }\n    var animationEnd = whichAnimationEvent();\n    var animationNames = animation.split(' ');\n    each(animationNames, function (name) {\n      addClass(element, 'g' + name);\n    });\n    addEvent(animationEnd, {\n      onElement: element,\n      avoidDuplicate: false,\n      once: true,\n      withCallback: function withCallback(event, target) {\n        each(animationNames, function (name) {\n          removeClass(target, 'g' + name);\n        });\n        if (isFunction(callback)) {\n          callback();\n        }\n      }\n    });\n  }\n  function cssTransform(node) {\n    var translate = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n    if (translate === '') {\n      node.style.webkitTransform = '';\n      node.style.MozTransform = '';\n      node.style.msTransform = '';\n      node.style.OTransform = '';\n      node.style.transform = '';\n      return false;\n    }\n    node.style.webkitTransform = translate;\n    node.style.MozTransform = translate;\n    node.style.msTransform = translate;\n    node.style.OTransform = translate;\n    node.style.transform = translate;\n  }\n  function show(element) {\n    element.style.display = 'block';\n  }\n  function hide(element) {\n    element.style.display = 'none';\n  }\n  function createHTML(htmlStr) {\n    var frag = document.createDocumentFragment(),\n      temp = document.createElement('div');\n    temp.innerHTML = htmlStr;\n    while (temp.firstChild) {\n      frag.appendChild(temp.firstChild);\n    }\n    return frag;\n  }\n  function windowSize() {\n    return {\n      width: window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth,\n      height: window.innerHeight || document.documentElement.clientHeight || document.body.clientHeight\n    };\n  }\n  function whichAnimationEvent() {\n    var t,\n      el = document.createElement('fakeelement');\n    var animations = {\n      animation: 'animationend',\n      OAnimation: 'oAnimationEnd',\n      MozAnimation: 'animationend',\n      WebkitAnimation: 'webkitAnimationEnd'\n    };\n    for (t in animations) {\n      if (el.style[t] !== undefined) {\n        return animations[t];\n      }\n    }\n  }\n  function whichTransitionEvent() {\n    var t,\n      el = document.createElement('fakeelement');\n    var transitions = {\n      transition: 'transitionend',\n      OTransition: 'oTransitionEnd',\n      MozTransition: 'transitionend',\n      WebkitTransition: 'webkitTransitionEnd'\n    };\n    for (t in transitions) {\n      if (el.style[t] !== undefined) {\n        return transitions[t];\n      }\n    }\n  }\n  function createIframe(config) {\n    var url = config.url,\n      allow = config.allow,\n      callback = config.callback,\n      appendTo = config.appendTo;\n    var iframe = document.createElement('iframe');\n    iframe.className = 'vimeo-video gvideo';\n    iframe.src = url;\n    iframe.style.width = '100%';\n    iframe.style.height = '100%';\n    if (allow) {\n      iframe.setAttribute('allow', allow);\n    }\n    iframe.onload = function () {\n      iframe.onload = null;\n      addClass(iframe, 'node-ready');\n      if (isFunction(callback)) {\n        callback();\n      }\n    };\n    if (appendTo) {\n      appendTo.appendChild(iframe);\n    }\n    return iframe;\n  }\n  function waitUntil(check, onComplete, delay, timeout) {\n    if (check()) {\n      onComplete();\n      return;\n    }\n    if (!delay) {\n      delay = 100;\n    }\n    var timeoutPointer;\n    var intervalPointer = setInterval(function () {\n      if (!check()) {\n        return;\n      }\n      clearInterval(intervalPointer);\n      if (timeoutPointer) {\n        clearTimeout(timeoutPointer);\n      }\n      onComplete();\n    }, delay);\n    if (timeout) {\n      timeoutPointer = setTimeout(function () {\n        clearInterval(intervalPointer);\n      }, timeout);\n    }\n  }\n  function injectAssets(url, waitFor, callback) {\n    if (isNil(url)) {\n      console.error('Inject assets error');\n      return;\n    }\n    if (isFunction(waitFor)) {\n      callback = waitFor;\n      waitFor = false;\n    }\n    if (isString(waitFor) && waitFor in window) {\n      if (isFunction(callback)) {\n        callback();\n      }\n      return;\n    }\n    var found;\n    if (url.indexOf('.css') !== -1) {\n      found = document.querySelectorAll('link[href=\"' + url + '\"]');\n      if (found && found.length > 0) {\n        if (isFunction(callback)) {\n          callback();\n        }\n        return;\n      }\n      var head = document.getElementsByTagName('head')[0];\n      var headStyles = head.querySelectorAll('link[rel=\"stylesheet\"]');\n      var link = document.createElement('link');\n      link.rel = 'stylesheet';\n      link.type = 'text/css';\n      link.href = url;\n      link.media = 'all';\n      if (headStyles) {\n        head.insertBefore(link, headStyles[0]);\n      } else {\n        head.appendChild(link);\n      }\n      if (isFunction(callback)) {\n        callback();\n      }\n      return;\n    }\n    found = document.querySelectorAll('script[src=\"' + url + '\"]');\n    if (found && found.length > 0) {\n      if (isFunction(callback)) {\n        if (isString(waitFor)) {\n          waitUntil(function () {\n            return typeof window[waitFor] !== 'undefined';\n          }, function () {\n            callback();\n          });\n          return false;\n        }\n        callback();\n      }\n      return;\n    }\n    var script = document.createElement('script');\n    script.type = 'text/javascript';\n    script.src = url;\n    script.onload = function () {\n      if (isFunction(callback)) {\n        if (isString(waitFor)) {\n          waitUntil(function () {\n            return typeof window[waitFor] !== 'undefined';\n          }, function () {\n            callback();\n          });\n          return false;\n        }\n        callback();\n      }\n    };\n    document.body.appendChild(script);\n  }\n  function isMobile() {\n    return 'navigator' in window && window.navigator.userAgent.match(/(iPad)|(iPhone)|(iPod)|(Android)|(PlayBook)|(BB10)|(BlackBerry)|(Opera Mini)|(IEMobile)|(webOS)|(MeeGo)/i);\n  }\n  function isTouch() {\n    return isMobile() !== null || document.createTouch !== undefined || 'ontouchstart' in window || 'onmsgesturechange' in window || navigator.msMaxTouchPoints;\n  }\n  function isFunction(f) {\n    return typeof f === 'function';\n  }\n  function isString(s) {\n    return typeof s === 'string';\n  }\n  function isNode(el) {\n    return !!(el && el.nodeType && el.nodeType == 1);\n  }\n  function isArray(ar) {\n    return Array.isArray(ar);\n  }\n  function isArrayLike(ar) {\n    return ar && ar.length && isFinite(ar.length);\n  }\n  function isObject(o) {\n    var type = _typeof(o);\n    return type === 'object' && o != null && !isFunction(o) && !isArray(o);\n  }\n  function isNil(o) {\n    return o == null;\n  }\n  function has(obj, key) {\n    return obj !== null && hasOwnProperty.call(obj, key);\n  }\n  function size(o) {\n    if (isObject(o)) {\n      if (o.keys) {\n        return o.keys().length;\n      }\n      var l = 0;\n      for (var k in o) {\n        if (has(o, k)) {\n          l++;\n        }\n      }\n      return l;\n    } else {\n      return o.length;\n    }\n  }\n  function isNumber(n) {\n    return !isNaN(parseFloat(n)) && isFinite(n);\n  }\n  function getNextFocusElement() {\n    var current = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : -1;\n    var btns = document.querySelectorAll('.gbtn[data-taborder]:not(.disabled)');\n    if (!btns.length) {\n      return false;\n    }\n    if (btns.length == 1) {\n      return btns[0];\n    }\n    if (typeof current == 'string') {\n      current = parseInt(current);\n    }\n    var orders = [];\n    each(btns, function (btn) {\n      orders.push(btn.getAttribute('data-taborder'));\n    });\n    var highestOrder = Math.max.apply(Math, orders.map(function (order) {\n      return parseInt(order);\n    }));\n    var newIndex = current < 0 ? 1 : current + 1;\n    if (newIndex > highestOrder) {\n      newIndex = '1';\n    }\n    var nextOrders = orders.filter(function (el) {\n      return el >= parseInt(newIndex);\n    });\n    var nextFocus = nextOrders.sort()[0];\n    return document.querySelector(\".gbtn[data-taborder=\\\"\".concat(nextFocus, \"\\\"]\"));\n  }\n  function keyboardNavigation(instance) {\n    if (instance.events.hasOwnProperty('keyboard')) {\n      return false;\n    }\n    instance.events['keyboard'] = addEvent('keydown', {\n      onElement: window,\n      withCallback: function withCallback(event, target) {\n        event = event || window.event;\n        var key = event.keyCode;\n        if (key == 9) {\n          var focusedButton = document.querySelector('.gbtn.focused');\n          if (!focusedButton) {\n            var activeElement = document.activeElement && document.activeElement.nodeName ? document.activeElement.nodeName.toLocaleLowerCase() : false;\n            if (activeElement == 'input' || activeElement == 'textarea' || activeElement == 'button') {\n              return;\n            }\n          }\n          event.preventDefault();\n          var btns = document.querySelectorAll('.gbtn[data-taborder]');\n          if (!btns || btns.length <= 0) {\n            return;\n          }\n          if (!focusedButton) {\n            var first = getNextFocusElement();\n            if (first) {\n              first.focus();\n              addClass(first, 'focused');\n            }\n            return;\n          }\n          var currentFocusOrder = focusedButton.getAttribute('data-taborder');\n          var nextFocus = getNextFocusElement(currentFocusOrder);\n          removeClass(focusedButton, 'focused');\n          if (nextFocus) {\n            nextFocus.focus();\n            addClass(nextFocus, 'focused');\n          }\n        }\n        if (key == 39) {\n          instance.nextSlide();\n        }\n        if (key == 37) {\n          instance.prevSlide();\n        }\n        if (key == 27) {\n          instance.close();\n        }\n      }\n    });\n  }\n  function getLen(v) {\n    return Math.sqrt(v.x * v.x + v.y * v.y);\n  }\n  function dot(v1, v2) {\n    return v1.x * v2.x + v1.y * v2.y;\n  }\n  function getAngle(v1, v2) {\n    var mr = getLen(v1) * getLen(v2);\n    if (mr === 0) {\n      return 0;\n    }\n    var r = dot(v1, v2) / mr;\n    if (r > 1) {\n      r = 1;\n    }\n    return Math.acos(r);\n  }\n  function cross(v1, v2) {\n    return v1.x * v2.y - v2.x * v1.y;\n  }\n  function getRotateAngle(v1, v2) {\n    var angle = getAngle(v1, v2);\n    if (cross(v1, v2) > 0) {\n      angle *= -1;\n    }\n    return angle * 180 / Math.PI;\n  }\n  var EventsHandlerAdmin = function () {\n    function EventsHandlerAdmin(el) {\n      _classCallCheck(this, EventsHandlerAdmin);\n      this.handlers = [];\n      this.el = el;\n    }\n    _createClass(EventsHandlerAdmin, [{\n      key: \"add\",\n      value: function add(handler) {\n        this.handlers.push(handler);\n      }\n    }, {\n      key: \"del\",\n      value: function del(handler) {\n        if (!handler) {\n          this.handlers = [];\n        }\n        for (var i = this.handlers.length; i >= 0; i--) {\n          if (this.handlers[i] === handler) {\n            this.handlers.splice(i, 1);\n          }\n        }\n      }\n    }, {\n      key: \"dispatch\",\n      value: function dispatch() {\n        for (var i = 0, len = this.handlers.length; i < len; i++) {\n          var handler = this.handlers[i];\n          if (typeof handler === 'function') {\n            handler.apply(this.el, arguments);\n          }\n        }\n      }\n    }]);\n    return EventsHandlerAdmin;\n  }();\n  function wrapFunc(el, handler) {\n    var EventshandlerAdmin = new EventsHandlerAdmin(el);\n    EventshandlerAdmin.add(handler);\n    return EventshandlerAdmin;\n  }\n  var TouchEvents = function () {\n    function TouchEvents(el, option) {\n      _classCallCheck(this, TouchEvents);\n      this.element = typeof el == 'string' ? document.querySelector(el) : el;\n      this.start = this.start.bind(this);\n      this.move = this.move.bind(this);\n      this.end = this.end.bind(this);\n      this.cancel = this.cancel.bind(this);\n      this.element.addEventListener('touchstart', this.start, false);\n      this.element.addEventListener('touchmove', this.move, false);\n      this.element.addEventListener('touchend', this.end, false);\n      this.element.addEventListener('touchcancel', this.cancel, false);\n      this.preV = {\n        x: null,\n        y: null\n      };\n      this.pinchStartLen = null;\n      this.zoom = 1;\n      this.isDoubleTap = false;\n      var noop = function noop() {};\n      this.rotate = wrapFunc(this.element, option.rotate || noop);\n      this.touchStart = wrapFunc(this.element, option.touchStart || noop);\n      this.multipointStart = wrapFunc(this.element, option.multipointStart || noop);\n      this.multipointEnd = wrapFunc(this.element, option.multipointEnd || noop);\n      this.pinch = wrapFunc(this.element, option.pinch || noop);\n      this.swipe = wrapFunc(this.element, option.swipe || noop);\n      this.tap = wrapFunc(this.element, option.tap || noop);\n      this.doubleTap = wrapFunc(this.element, option.doubleTap || noop);\n      this.longTap = wrapFunc(this.element, option.longTap || noop);\n      this.singleTap = wrapFunc(this.element, option.singleTap || noop);\n      this.pressMove = wrapFunc(this.element, option.pressMove || noop);\n      this.twoFingerPressMove = wrapFunc(this.element, option.twoFingerPressMove || noop);\n      this.touchMove = wrapFunc(this.element, option.touchMove || noop);\n      this.touchEnd = wrapFunc(this.element, option.touchEnd || noop);\n      this.touchCancel = wrapFunc(this.element, option.touchCancel || noop);\n      this.translateContainer = this.element;\n      this._cancelAllHandler = this.cancelAll.bind(this);\n      window.addEventListener('scroll', this._cancelAllHandler);\n      this.delta = null;\n      this.last = null;\n      this.now = null;\n      this.tapTimeout = null;\n      this.singleTapTimeout = null;\n      this.longTapTimeout = null;\n      this.swipeTimeout = null;\n      this.x1 = this.x2 = this.y1 = this.y2 = null;\n      this.preTapPosition = {\n        x: null,\n        y: null\n      };\n    }\n    _createClass(TouchEvents, [{\n      key: \"start\",\n      value: function start(evt) {\n        if (!evt.touches) {\n          return;\n        }\n        var ignoreDragFor = ['a', 'button', 'input'];\n        if (evt.target && evt.target.nodeName && ignoreDragFor.indexOf(evt.target.nodeName.toLowerCase()) >= 0) {\n          console.log('ignore drag for this touched element', evt.target.nodeName.toLowerCase());\n          return;\n        }\n        this.now = Date.now();\n        this.x1 = evt.touches[0].pageX;\n        this.y1 = evt.touches[0].pageY;\n        this.delta = this.now - (this.last || this.now);\n        this.touchStart.dispatch(evt, this.element);\n        if (this.preTapPosition.x !== null) {\n          this.isDoubleTap = this.delta > 0 && this.delta <= 250 && Math.abs(this.preTapPosition.x - this.x1) < 30 && Math.abs(this.preTapPosition.y - this.y1) < 30;\n          if (this.isDoubleTap) {\n            clearTimeout(this.singleTapTimeout);\n          }\n        }\n        this.preTapPosition.x = this.x1;\n        this.preTapPosition.y = this.y1;\n        this.last = this.now;\n        var preV = this.preV,\n          len = evt.touches.length;\n        if (len > 1) {\n          this._cancelLongTap();\n          this._cancelSingleTap();\n          var v = {\n            x: evt.touches[1].pageX - this.x1,\n            y: evt.touches[1].pageY - this.y1\n          };\n          preV.x = v.x;\n          preV.y = v.y;\n          this.pinchStartLen = getLen(preV);\n          this.multipointStart.dispatch(evt, this.element);\n        }\n        this._preventTap = false;\n        this.longTapTimeout = setTimeout(function () {\n          this.longTap.dispatch(evt, this.element);\n          this._preventTap = true;\n        }.bind(this), 750);\n      }\n    }, {\n      key: \"move\",\n      value: function move(evt) {\n        if (!evt.touches) {\n          return;\n        }\n        var preV = this.preV,\n          len = evt.touches.length,\n          currentX = evt.touches[0].pageX,\n          currentY = evt.touches[0].pageY;\n        this.isDoubleTap = false;\n        if (len > 1) {\n          var sCurrentX = evt.touches[1].pageX,\n            sCurrentY = evt.touches[1].pageY;\n          var v = {\n            x: evt.touches[1].pageX - currentX,\n            y: evt.touches[1].pageY - currentY\n          };\n          if (preV.x !== null) {\n            if (this.pinchStartLen > 0) {\n              evt.zoom = getLen(v) / this.pinchStartLen;\n              this.pinch.dispatch(evt, this.element);\n            }\n            evt.angle = getRotateAngle(v, preV);\n            this.rotate.dispatch(evt, this.element);\n          }\n          preV.x = v.x;\n          preV.y = v.y;\n          if (this.x2 !== null && this.sx2 !== null) {\n            evt.deltaX = (currentX - this.x2 + sCurrentX - this.sx2) / 2;\n            evt.deltaY = (currentY - this.y2 + sCurrentY - this.sy2) / 2;\n          } else {\n            evt.deltaX = 0;\n            evt.deltaY = 0;\n          }\n          this.twoFingerPressMove.dispatch(evt, this.element);\n          this.sx2 = sCurrentX;\n          this.sy2 = sCurrentY;\n        } else {\n          if (this.x2 !== null) {\n            evt.deltaX = currentX - this.x2;\n            evt.deltaY = currentY - this.y2;\n            var movedX = Math.abs(this.x1 - this.x2),\n              movedY = Math.abs(this.y1 - this.y2);\n            if (movedX > 10 || movedY > 10) {\n              this._preventTap = true;\n            }\n          } else {\n            evt.deltaX = 0;\n            evt.deltaY = 0;\n          }\n          this.pressMove.dispatch(evt, this.element);\n        }\n        this.touchMove.dispatch(evt, this.element);\n        this._cancelLongTap();\n        this.x2 = currentX;\n        this.y2 = currentY;\n        if (len > 1) {\n          evt.preventDefault();\n        }\n      }\n    }, {\n      key: \"end\",\n      value: function end(evt) {\n        if (!evt.changedTouches) {\n          return;\n        }\n        this._cancelLongTap();\n        var self = this;\n        if (evt.touches.length < 2) {\n          this.multipointEnd.dispatch(evt, this.element);\n          this.sx2 = this.sy2 = null;\n        }\n        if (this.x2 && Math.abs(this.x1 - this.x2) > 30 || this.y2 && Math.abs(this.y1 - this.y2) > 30) {\n          evt.direction = this._swipeDirection(this.x1, this.x2, this.y1, this.y2);\n          this.swipeTimeout = setTimeout(function () {\n            self.swipe.dispatch(evt, self.element);\n          }, 0);\n        } else {\n          this.tapTimeout = setTimeout(function () {\n            if (!self._preventTap) {\n              self.tap.dispatch(evt, self.element);\n            }\n            if (self.isDoubleTap) {\n              self.doubleTap.dispatch(evt, self.element);\n              self.isDoubleTap = false;\n            }\n          }, 0);\n          if (!self.isDoubleTap) {\n            self.singleTapTimeout = setTimeout(function () {\n              self.singleTap.dispatch(evt, self.element);\n            }, 250);\n          }\n        }\n        this.touchEnd.dispatch(evt, this.element);\n        this.preV.x = 0;\n        this.preV.y = 0;\n        this.zoom = 1;\n        this.pinchStartLen = null;\n        this.x1 = this.x2 = this.y1 = this.y2 = null;\n      }\n    }, {\n      key: \"cancelAll\",\n      value: function cancelAll() {\n        this._preventTap = true;\n        clearTimeout(this.singleTapTimeout);\n        clearTimeout(this.tapTimeout);\n        clearTimeout(this.longTapTimeout);\n        clearTimeout(this.swipeTimeout);\n      }\n    }, {\n      key: \"cancel\",\n      value: function cancel(evt) {\n        this.cancelAll();\n        this.touchCancel.dispatch(evt, this.element);\n      }\n    }, {\n      key: \"_cancelLongTap\",\n      value: function _cancelLongTap() {\n        clearTimeout(this.longTapTimeout);\n      }\n    }, {\n      key: \"_cancelSingleTap\",\n      value: function _cancelSingleTap() {\n        clearTimeout(this.singleTapTimeout);\n      }\n    }, {\n      key: \"_swipeDirection\",\n      value: function _swipeDirection(x1, x2, y1, y2) {\n        return Math.abs(x1 - x2) >= Math.abs(y1 - y2) ? x1 - x2 > 0 ? 'Left' : 'Right' : y1 - y2 > 0 ? 'Up' : 'Down';\n      }\n    }, {\n      key: \"on\",\n      value: function on(evt, handler) {\n        if (this[evt]) {\n          this[evt].add(handler);\n        }\n      }\n    }, {\n      key: \"off\",\n      value: function off(evt, handler) {\n        if (this[evt]) {\n          this[evt].del(handler);\n        }\n      }\n    }, {\n      key: \"destroy\",\n      value: function destroy() {\n        if (this.singleTapTimeout) {\n          clearTimeout(this.singleTapTimeout);\n        }\n        if (this.tapTimeout) {\n          clearTimeout(this.tapTimeout);\n        }\n        if (this.longTapTimeout) {\n          clearTimeout(this.longTapTimeout);\n        }\n        if (this.swipeTimeout) {\n          clearTimeout(this.swipeTimeout);\n        }\n        this.element.removeEventListener('touchstart', this.start);\n        this.element.removeEventListener('touchmove', this.move);\n        this.element.removeEventListener('touchend', this.end);\n        this.element.removeEventListener('touchcancel', this.cancel);\n        this.rotate.del();\n        this.touchStart.del();\n        this.multipointStart.del();\n        this.multipointEnd.del();\n        this.pinch.del();\n        this.swipe.del();\n        this.tap.del();\n        this.doubleTap.del();\n        this.longTap.del();\n        this.singleTap.del();\n        this.pressMove.del();\n        this.twoFingerPressMove.del();\n        this.touchMove.del();\n        this.touchEnd.del();\n        this.touchCancel.del();\n        this.preV = this.pinchStartLen = this.zoom = this.isDoubleTap = this.delta = this.last = this.now = this.tapTimeout = this.singleTapTimeout = this.longTapTimeout = this.swipeTimeout = this.x1 = this.x2 = this.y1 = this.y2 = this.preTapPosition = this.rotate = this.touchStart = this.multipointStart = this.multipointEnd = this.pinch = this.swipe = this.tap = this.doubleTap = this.longTap = this.singleTap = this.pressMove = this.touchMove = this.touchEnd = this.touchCancel = this.twoFingerPressMove = null;\n        window.removeEventListener('scroll', this._cancelAllHandler);\n        return null;\n      }\n    }]);\n    return TouchEvents;\n  }();\n  function resetSlideMove(slide) {\n    var transitionEnd = whichTransitionEvent();\n    var windowWidth = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth;\n    var media = hasClass(slide, 'gslide-media') ? slide : slide.querySelector('.gslide-media');\n    var container = closest(media, '.ginner-container');\n    var desc = slide.querySelector('.gslide-description');\n    if (windowWidth > 769) {\n      media = container;\n    }\n    addClass(media, 'greset');\n    cssTransform(media, 'translate3d(0, 0, 0)');\n    addEvent(transitionEnd, {\n      onElement: media,\n      once: true,\n      withCallback: function withCallback(event, target) {\n        removeClass(media, 'greset');\n      }\n    });\n    media.style.opacity = '';\n    if (desc) {\n      desc.style.opacity = '';\n    }\n  }\n  function touchNavigation(instance) {\n    if (instance.events.hasOwnProperty('touch')) {\n      return false;\n    }\n    var winSize = windowSize();\n    var winWidth = winSize.width;\n    var winHeight = winSize.height;\n    var process = false;\n    var currentSlide = null;\n    var media = null;\n    var mediaImage = null;\n    var doingMove = false;\n    var initScale = 1;\n    var maxScale = 4.5;\n    var currentScale = 1;\n    var doingZoom = false;\n    var imageZoomed = false;\n    var zoomedPosX = null;\n    var zoomedPosY = null;\n    var lastZoomedPosX = null;\n    var lastZoomedPosY = null;\n    var hDistance;\n    var vDistance;\n    var hDistancePercent = 0;\n    var vDistancePercent = 0;\n    var vSwipe = false;\n    var hSwipe = false;\n    var startCoords = {};\n    var endCoords = {};\n    var xDown = 0;\n    var yDown = 0;\n    var isInlined;\n    var sliderWrapper = document.getElementById('glightbox-slider');\n    var overlay = document.querySelector('.goverlay');\n    var touchInstance = new TouchEvents(sliderWrapper, {\n      touchStart: function touchStart(e) {\n        process = true;\n        if (hasClass(e.targetTouches[0].target, 'ginner-container') || closest(e.targetTouches[0].target, '.gslide-desc') || e.targetTouches[0].target.nodeName.toLowerCase() == 'a') {\n          process = false;\n        }\n        if (closest(e.targetTouches[0].target, '.gslide-inline') && !hasClass(e.targetTouches[0].target.parentNode, 'gslide-inline')) {\n          process = false;\n        }\n        if (process) {\n          endCoords = e.targetTouches[0];\n          startCoords.pageX = e.targetTouches[0].pageX;\n          startCoords.pageY = e.targetTouches[0].pageY;\n          xDown = e.targetTouches[0].clientX;\n          yDown = e.targetTouches[0].clientY;\n          currentSlide = instance.activeSlide;\n          media = currentSlide.querySelector('.gslide-media');\n          isInlined = currentSlide.querySelector('.gslide-inline');\n          mediaImage = null;\n          if (hasClass(media, 'gslide-image')) {\n            mediaImage = media.querySelector('img');\n          }\n          var windowWidth = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth;\n          if (windowWidth > 769) {\n            media = currentSlide.querySelector('.ginner-container');\n          }\n          removeClass(overlay, 'greset');\n          if (e.pageX > 20 && e.pageX < window.innerWidth - 20) {\n            return;\n          }\n          e.preventDefault();\n        }\n      },\n      touchMove: function touchMove(e) {\n        if (!process) {\n          return;\n        }\n        endCoords = e.targetTouches[0];\n        if (doingZoom || imageZoomed) {\n          return;\n        }\n        if (isInlined && isInlined.offsetHeight > winHeight) {\n          var moved = startCoords.pageX - endCoords.pageX;\n          if (Math.abs(moved) <= 13) {\n            return false;\n          }\n        }\n        doingMove = true;\n        var xUp = e.targetTouches[0].clientX;\n        var yUp = e.targetTouches[0].clientY;\n        var xDiff = xDown - xUp;\n        var yDiff = yDown - yUp;\n        if (Math.abs(xDiff) > Math.abs(yDiff)) {\n          vSwipe = false;\n          hSwipe = true;\n        } else {\n          hSwipe = false;\n          vSwipe = true;\n        }\n        hDistance = endCoords.pageX - startCoords.pageX;\n        hDistancePercent = hDistance * 100 / winWidth;\n        vDistance = endCoords.pageY - startCoords.pageY;\n        vDistancePercent = vDistance * 100 / winHeight;\n        var opacity;\n        if (vSwipe && mediaImage) {\n          opacity = 1 - Math.abs(vDistance) / winHeight;\n          overlay.style.opacity = opacity;\n          if (instance.settings.touchFollowAxis) {\n            hDistancePercent = 0;\n          }\n        }\n        if (hSwipe) {\n          opacity = 1 - Math.abs(hDistance) / winWidth;\n          media.style.opacity = opacity;\n          if (instance.settings.touchFollowAxis) {\n            vDistancePercent = 0;\n          }\n        }\n        if (!mediaImage) {\n          return cssTransform(media, \"translate3d(\".concat(hDistancePercent, \"%, 0, 0)\"));\n        }\n        cssTransform(media, \"translate3d(\".concat(hDistancePercent, \"%, \").concat(vDistancePercent, \"%, 0)\"));\n      },\n      touchEnd: function touchEnd() {\n        if (!process) {\n          return;\n        }\n        doingMove = false;\n        if (imageZoomed || doingZoom) {\n          lastZoomedPosX = zoomedPosX;\n          lastZoomedPosY = zoomedPosY;\n          return;\n        }\n        var v = Math.abs(parseInt(vDistancePercent));\n        var h = Math.abs(parseInt(hDistancePercent));\n        if (v > 29 && mediaImage) {\n          instance.close();\n          return;\n        }\n        if (v < 29 && h < 25) {\n          addClass(overlay, 'greset');\n          overlay.style.opacity = 1;\n          return resetSlideMove(media);\n        }\n      },\n      multipointEnd: function multipointEnd() {\n        setTimeout(function () {\n          doingZoom = false;\n        }, 50);\n      },\n      multipointStart: function multipointStart() {\n        doingZoom = true;\n        initScale = currentScale ? currentScale : 1;\n      },\n      pinch: function pinch(evt) {\n        if (!mediaImage || doingMove) {\n          return false;\n        }\n        doingZoom = true;\n        mediaImage.scaleX = mediaImage.scaleY = initScale * evt.zoom;\n        var scale = initScale * evt.zoom;\n        imageZoomed = true;\n        if (scale <= 1) {\n          imageZoomed = false;\n          scale = 1;\n          lastZoomedPosY = null;\n          lastZoomedPosX = null;\n          zoomedPosX = null;\n          zoomedPosY = null;\n          mediaImage.setAttribute('style', '');\n          return;\n        }\n        if (scale > maxScale) {\n          scale = maxScale;\n        }\n        mediaImage.style.transform = \"scale3d(\".concat(scale, \", \").concat(scale, \", 1)\");\n        currentScale = scale;\n      },\n      pressMove: function pressMove(e) {\n        if (imageZoomed && !doingZoom) {\n          var mhDistance = endCoords.pageX - startCoords.pageX;\n          var mvDistance = endCoords.pageY - startCoords.pageY;\n          if (lastZoomedPosX) {\n            mhDistance = mhDistance + lastZoomedPosX;\n          }\n          if (lastZoomedPosY) {\n            mvDistance = mvDistance + lastZoomedPosY;\n          }\n          zoomedPosX = mhDistance;\n          zoomedPosY = mvDistance;\n          var style = \"translate3d(\".concat(mhDistance, \"px, \").concat(mvDistance, \"px, 0)\");\n          if (currentScale) {\n            style += \" scale3d(\".concat(currentScale, \", \").concat(currentScale, \", 1)\");\n          }\n          cssTransform(mediaImage, style);\n        }\n      },\n      swipe: function swipe(evt) {\n        if (imageZoomed) {\n          return;\n        }\n        if (doingZoom) {\n          doingZoom = false;\n          return;\n        }\n        if (evt.direction == 'Left') {\n          if (instance.index == instance.elements.length - 1) {\n            return resetSlideMove(media);\n          }\n          instance.nextSlide();\n        }\n        if (evt.direction == 'Right') {\n          if (instance.index == 0) {\n            return resetSlideMove(media);\n          }\n          instance.prevSlide();\n        }\n      }\n    });\n    instance.events['touch'] = touchInstance;\n  }\n  var ZoomImages = function () {\n    function ZoomImages(el, slide) {\n      var _this = this;\n      var onclose = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n      _classCallCheck(this, ZoomImages);\n      this.img = el;\n      this.slide = slide;\n      this.onclose = onclose;\n      if (this.img.setZoomEvents) {\n        return false;\n      }\n      this.active = false;\n      this.zoomedIn = false;\n      this.dragging = false;\n      this.currentX = null;\n      this.currentY = null;\n      this.initialX = null;\n      this.initialY = null;\n      this.xOffset = 0;\n      this.yOffset = 0;\n      this.img.addEventListener('mousedown', function (e) {\n        return _this.dragStart(e);\n      }, false);\n      this.img.addEventListener('mouseup', function (e) {\n        return _this.dragEnd(e);\n      }, false);\n      this.img.addEventListener('mousemove', function (e) {\n        return _this.drag(e);\n      }, false);\n      this.img.addEventListener('click', function (e) {\n        if (_this.slide.classList.contains('dragging-nav')) {\n          _this.zoomOut();\n          return false;\n        }\n        if (!_this.zoomedIn) {\n          return _this.zoomIn();\n        }\n        if (_this.zoomedIn && !_this.dragging) {\n          _this.zoomOut();\n        }\n      }, false);\n      this.img.setZoomEvents = true;\n    }\n    _createClass(ZoomImages, [{\n      key: \"zoomIn\",\n      value: function zoomIn() {\n        var winWidth = this.widowWidth();\n        if (this.zoomedIn || winWidth <= 768) {\n          return;\n        }\n        var img = this.img;\n        img.setAttribute('data-style', img.getAttribute('style'));\n        img.style.maxWidth = img.naturalWidth + 'px';\n        img.style.maxHeight = img.naturalHeight + 'px';\n        if (img.naturalWidth > winWidth) {\n          var centerX = winWidth / 2 - img.naturalWidth / 2;\n          this.setTranslate(this.img.parentNode, centerX, 0);\n        }\n        this.slide.classList.add('zoomed');\n        this.zoomedIn = true;\n      }\n    }, {\n      key: \"zoomOut\",\n      value: function zoomOut() {\n        this.img.parentNode.setAttribute('style', '');\n        this.img.setAttribute('style', this.img.getAttribute('data-style'));\n        this.slide.classList.remove('zoomed');\n        this.zoomedIn = false;\n        this.currentX = null;\n        this.currentY = null;\n        this.initialX = null;\n        this.initialY = null;\n        this.xOffset = 0;\n        this.yOffset = 0;\n        if (this.onclose && typeof this.onclose == 'function') {\n          this.onclose();\n        }\n      }\n    }, {\n      key: \"dragStart\",\n      value: function dragStart(e) {\n        e.preventDefault();\n        if (!this.zoomedIn) {\n          this.active = false;\n          return;\n        }\n        if (e.type === 'touchstart') {\n          this.initialX = e.touches[0].clientX - this.xOffset;\n          this.initialY = e.touches[0].clientY - this.yOffset;\n        } else {\n          this.initialX = e.clientX - this.xOffset;\n          this.initialY = e.clientY - this.yOffset;\n        }\n        if (e.target === this.img) {\n          this.active = true;\n          this.img.classList.add('dragging');\n        }\n      }\n    }, {\n      key: \"dragEnd\",\n      value: function dragEnd(e) {\n        var _this2 = this;\n        e.preventDefault();\n        this.initialX = this.currentX;\n        this.initialY = this.currentY;\n        this.active = false;\n        setTimeout(function () {\n          _this2.dragging = false;\n          _this2.img.isDragging = false;\n          _this2.img.classList.remove('dragging');\n        }, 100);\n      }\n    }, {\n      key: \"drag\",\n      value: function drag(e) {\n        if (this.active) {\n          e.preventDefault();\n          if (e.type === 'touchmove') {\n            this.currentX = e.touches[0].clientX - this.initialX;\n            this.currentY = e.touches[0].clientY - this.initialY;\n          } else {\n            this.currentX = e.clientX - this.initialX;\n            this.currentY = e.clientY - this.initialY;\n          }\n          this.xOffset = this.currentX;\n          this.yOffset = this.currentY;\n          this.img.isDragging = true;\n          this.dragging = true;\n          this.setTranslate(this.img, this.currentX, this.currentY);\n        }\n      }\n    }, {\n      key: \"onMove\",\n      value: function onMove(e) {\n        if (!this.zoomedIn) {\n          return;\n        }\n        var xOffset = e.clientX - this.img.naturalWidth / 2;\n        var yOffset = e.clientY - this.img.naturalHeight / 2;\n        this.setTranslate(this.img, xOffset, yOffset);\n      }\n    }, {\n      key: \"setTranslate\",\n      value: function setTranslate(node, xPos, yPos) {\n        node.style.transform = 'translate3d(' + xPos + 'px, ' + yPos + 'px, 0)';\n      }\n    }, {\n      key: \"widowWidth\",\n      value: function widowWidth() {\n        return window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth;\n      }\n    }]);\n    return ZoomImages;\n  }();\n  var DragSlides = function () {\n    function DragSlides() {\n      var _this = this;\n      var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      _classCallCheck(this, DragSlides);\n      var dragEl = config.dragEl,\n        _config$toleranceX = config.toleranceX,\n        toleranceX = _config$toleranceX === void 0 ? 40 : _config$toleranceX,\n        _config$toleranceY = config.toleranceY,\n        toleranceY = _config$toleranceY === void 0 ? 65 : _config$toleranceY,\n        _config$slide = config.slide,\n        slide = _config$slide === void 0 ? null : _config$slide,\n        _config$instance = config.instance,\n        instance = _config$instance === void 0 ? null : _config$instance;\n      this.el = dragEl;\n      this.active = false;\n      this.dragging = false;\n      this.currentX = null;\n      this.currentY = null;\n      this.initialX = null;\n      this.initialY = null;\n      this.xOffset = 0;\n      this.yOffset = 0;\n      this.direction = null;\n      this.lastDirection = null;\n      this.toleranceX = toleranceX;\n      this.toleranceY = toleranceY;\n      this.toleranceReached = false;\n      this.dragContainer = this.el;\n      this.slide = slide;\n      this.instance = instance;\n      this.el.addEventListener('mousedown', function (e) {\n        return _this.dragStart(e);\n      }, false);\n      this.el.addEventListener('mouseup', function (e) {\n        return _this.dragEnd(e);\n      }, false);\n      this.el.addEventListener('mousemove', function (e) {\n        return _this.drag(e);\n      }, false);\n    }\n    _createClass(DragSlides, [{\n      key: \"dragStart\",\n      value: function dragStart(e) {\n        if (this.slide.classList.contains('zoomed')) {\n          this.active = false;\n          return;\n        }\n        if (e.type === 'touchstart') {\n          this.initialX = e.touches[0].clientX - this.xOffset;\n          this.initialY = e.touches[0].clientY - this.yOffset;\n        } else {\n          this.initialX = e.clientX - this.xOffset;\n          this.initialY = e.clientY - this.yOffset;\n        }\n        var clicked = e.target.nodeName.toLowerCase();\n        var exludeClicks = ['input', 'select', 'textarea', 'button', 'a'];\n        if (e.target.classList.contains('nodrag') || closest(e.target, '.nodrag') || exludeClicks.indexOf(clicked) !== -1) {\n          this.active = false;\n          return;\n        }\n        e.preventDefault();\n        if (e.target === this.el || clicked !== 'img' && closest(e.target, '.gslide-inline')) {\n          this.active = true;\n          this.el.classList.add('dragging');\n          this.dragContainer = closest(e.target, '.ginner-container');\n        }\n      }\n    }, {\n      key: \"dragEnd\",\n      value: function dragEnd(e) {\n        var _this2 = this;\n        e && e.preventDefault();\n        this.initialX = 0;\n        this.initialY = 0;\n        this.currentX = null;\n        this.currentY = null;\n        this.initialX = null;\n        this.initialY = null;\n        this.xOffset = 0;\n        this.yOffset = 0;\n        this.active = false;\n        if (this.doSlideChange) {\n          this.instance.preventOutsideClick = true;\n          this.doSlideChange == 'right' && this.instance.prevSlide();\n          this.doSlideChange == 'left' && this.instance.nextSlide();\n        }\n        if (this.doSlideClose) {\n          this.instance.close();\n        }\n        if (!this.toleranceReached) {\n          this.setTranslate(this.dragContainer, 0, 0, true);\n        }\n        setTimeout(function () {\n          _this2.instance.preventOutsideClick = false;\n          _this2.toleranceReached = false;\n          _this2.lastDirection = null;\n          _this2.dragging = false;\n          _this2.el.isDragging = false;\n          _this2.el.classList.remove('dragging');\n          _this2.slide.classList.remove('dragging-nav');\n          _this2.dragContainer.style.transform = '';\n          _this2.dragContainer.style.transition = '';\n        }, 100);\n      }\n    }, {\n      key: \"drag\",\n      value: function drag(e) {\n        if (this.active) {\n          e.preventDefault();\n          this.slide.classList.add('dragging-nav');\n          if (e.type === 'touchmove') {\n            this.currentX = e.touches[0].clientX - this.initialX;\n            this.currentY = e.touches[0].clientY - this.initialY;\n          } else {\n            this.currentX = e.clientX - this.initialX;\n            this.currentY = e.clientY - this.initialY;\n          }\n          this.xOffset = this.currentX;\n          this.yOffset = this.currentY;\n          this.el.isDragging = true;\n          this.dragging = true;\n          this.doSlideChange = false;\n          this.doSlideClose = false;\n          var currentXInt = Math.abs(this.currentX);\n          var currentYInt = Math.abs(this.currentY);\n          if (currentXInt > 0 && currentXInt >= Math.abs(this.currentY) && (!this.lastDirection || this.lastDirection == 'x')) {\n            this.yOffset = 0;\n            this.lastDirection = 'x';\n            this.setTranslate(this.dragContainer, this.currentX, 0);\n            var doChange = this.shouldChange();\n            if (!this.instance.settings.dragAutoSnap && doChange) {\n              this.doSlideChange = doChange;\n            }\n            if (this.instance.settings.dragAutoSnap && doChange) {\n              this.instance.preventOutsideClick = true;\n              this.toleranceReached = true;\n              this.active = false;\n              this.instance.preventOutsideClick = true;\n              this.dragEnd(null);\n              doChange == 'right' && this.instance.prevSlide();\n              doChange == 'left' && this.instance.nextSlide();\n              return;\n            }\n          }\n          if (this.toleranceY > 0 && currentYInt > 0 && currentYInt >= currentXInt && (!this.lastDirection || this.lastDirection == 'y')) {\n            this.xOffset = 0;\n            this.lastDirection = 'y';\n            this.setTranslate(this.dragContainer, 0, this.currentY);\n            var doClose = this.shouldClose();\n            if (!this.instance.settings.dragAutoSnap && doClose) {\n              this.doSlideClose = true;\n            }\n            if (this.instance.settings.dragAutoSnap && doClose) {\n              this.instance.close();\n            }\n            return;\n          }\n        }\n      }\n    }, {\n      key: \"shouldChange\",\n      value: function shouldChange() {\n        var doChange = false;\n        var currentXInt = Math.abs(this.currentX);\n        if (currentXInt >= this.toleranceX) {\n          var dragDir = this.currentX > 0 ? 'right' : 'left';\n          if (dragDir == 'left' && this.slide !== this.slide.parentNode.lastChild || dragDir == 'right' && this.slide !== this.slide.parentNode.firstChild) {\n            doChange = dragDir;\n          }\n        }\n        return doChange;\n      }\n    }, {\n      key: \"shouldClose\",\n      value: function shouldClose() {\n        var doClose = false;\n        var currentYInt = Math.abs(this.currentY);\n        if (currentYInt >= this.toleranceY) {\n          doClose = true;\n        }\n        return doClose;\n      }\n    }, {\n      key: \"setTranslate\",\n      value: function setTranslate(node, xPos, yPos) {\n        var animated = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n        if (animated) {\n          node.style.transition = 'all .2s ease';\n        } else {\n          node.style.transition = '';\n        }\n        node.style.transform = \"translate3d(\".concat(xPos, \"px, \").concat(yPos, \"px, 0)\");\n      }\n    }]);\n    return DragSlides;\n  }();\n  function slideImage(slide, data, index, callback) {\n    var slideMedia = slide.querySelector('.gslide-media');\n    var img = new Image();\n    var titleID = 'gSlideTitle_' + index;\n    var textID = 'gSlideDesc_' + index;\n    img.addEventListener('load', function () {\n      if (isFunction(callback)) {\n        callback();\n      }\n    }, false);\n    img.src = data.href;\n    if (data.sizes != '' && data.srcset != '') {\n      img.sizes = data.sizes;\n      img.srcset = data.srcset;\n    }\n    img.alt = '';\n    if (!isNil(data.alt) && data.alt !== '') {\n      img.alt = data.alt;\n    }\n    if (data.title !== '') {\n      img.setAttribute('aria-labelledby', titleID);\n    }\n    if (data.description !== '') {\n      img.setAttribute('aria-describedby', textID);\n    }\n    if (data.hasOwnProperty('_hasCustomWidth') && data._hasCustomWidth) {\n      img.style.width = data.width;\n    }\n    if (data.hasOwnProperty('_hasCustomHeight') && data._hasCustomHeight) {\n      img.style.height = data.height;\n    }\n    slideMedia.insertBefore(img, slideMedia.firstChild);\n    return;\n  }\n  function slideVideo(slide, data, index, callback) {\n    var _this = this;\n    var slideContainer = slide.querySelector('.ginner-container');\n    var videoID = 'gvideo' + index;\n    var slideMedia = slide.querySelector('.gslide-media');\n    var videoPlayers = this.getAllPlayers();\n    addClass(slideContainer, 'gvideo-container');\n    slideMedia.insertBefore(createHTML('<div class=\"gvideo-wrapper\"></div>'), slideMedia.firstChild);\n    var videoWrapper = slide.querySelector('.gvideo-wrapper');\n    injectAssets(this.settings.plyr.css, 'Plyr');\n    var url = data.href;\n    var provider = data === null || data === void 0 ? void 0 : data.videoProvider;\n    var customPlaceholder = false;\n    slideMedia.style.maxWidth = data.width;\n    injectAssets(this.settings.plyr.js, 'Plyr', function () {\n      if (!provider && url.match(/vimeo\\.com\\/([0-9]*)/)) {\n        provider = 'vimeo';\n      }\n      if (!provider && (url.match(/(youtube\\.com|youtube-nocookie\\.com)\\/watch\\?v=([a-zA-Z0-9\\-_]+)/) || url.match(/youtu\\.be\\/([a-zA-Z0-9\\-_]+)/) || url.match(/(youtube\\.com|youtube-nocookie\\.com)\\/embed\\/([a-zA-Z0-9\\-_]+)/))) {\n        provider = 'youtube';\n      }\n      if (provider === 'local' || !provider) {\n        provider = 'local';\n        var html = '<video id=\"' + videoID + '\" ';\n        html += \"style=\\\"background:#000; max-width: \".concat(data.width, \";\\\" \");\n        html += 'preload=\"metadata\" ';\n        html += 'x-webkit-airplay=\"allow\" ';\n        html += 'playsinline ';\n        html += 'controls ';\n        html += 'class=\"gvideo-local\">';\n        html += \"<source src=\\\"\".concat(url, \"\\\">\");\n        html += '</video>';\n        customPlaceholder = createHTML(html);\n      }\n      var placeholder = customPlaceholder ? customPlaceholder : createHTML(\"<div id=\\\"\".concat(videoID, \"\\\" data-plyr-provider=\\\"\").concat(provider, \"\\\" data-plyr-embed-id=\\\"\").concat(url, \"\\\"></div>\"));\n      addClass(videoWrapper, \"\".concat(provider, \"-video gvideo\"));\n      videoWrapper.appendChild(placeholder);\n      videoWrapper.setAttribute('data-id', videoID);\n      videoWrapper.setAttribute('data-index', index);\n      var playerConfig = has(_this.settings.plyr, 'config') ? _this.settings.plyr.config : {};\n      var player = new Plyr('#' + videoID, playerConfig);\n      player.on('ready', function (event) {\n        videoPlayers[videoID] = event.detail.plyr;\n        if (isFunction(callback)) {\n          callback();\n        }\n      });\n      waitUntil(function () {\n        return slide.querySelector('iframe') && slide.querySelector('iframe').dataset.ready == 'true';\n      }, function () {\n        _this.resize(slide);\n      });\n      player.on('enterfullscreen', handleMediaFullScreen);\n      player.on('exitfullscreen', handleMediaFullScreen);\n    });\n  }\n  function handleMediaFullScreen(event) {\n    var media = closest(event.target, '.gslide-media');\n    if (event.type === 'enterfullscreen') {\n      addClass(media, 'fullscreen');\n    }\n    if (event.type === 'exitfullscreen') {\n      removeClass(media, 'fullscreen');\n    }\n  }\n  function slideInline(slide, data, index, callback) {\n    var _this = this;\n    var slideMedia = slide.querySelector('.gslide-media');\n    var hash = has(data, 'href') && data.href ? data.href.split('#').pop().trim() : false;\n    var content = has(data, 'content') && data.content ? data.content : false;\n    var innerContent;\n    if (content) {\n      if (isString(content)) {\n        innerContent = createHTML(\"<div class=\\\"ginlined-content\\\">\".concat(content, \"</div>\"));\n      }\n      if (isNode(content)) {\n        if (content.style.display == 'none') {\n          content.style.display = 'block';\n        }\n        var container = document.createElement('div');\n        container.className = 'ginlined-content';\n        container.appendChild(content);\n        innerContent = container;\n      }\n    }\n    if (hash) {\n      var div = document.getElementById(hash);\n      if (!div) {\n        return false;\n      }\n      var cloned = div.cloneNode(true);\n      cloned.style.height = data.height;\n      cloned.style.maxWidth = data.width;\n      addClass(cloned, 'ginlined-content');\n      innerContent = cloned;\n    }\n    if (!innerContent) {\n      console.error('Unable to append inline slide content', data);\n      return false;\n    }\n    slideMedia.style.height = data.height;\n    slideMedia.style.width = data.width;\n    slideMedia.appendChild(innerContent);\n    this.events['inlineclose' + hash] = addEvent('click', {\n      onElement: slideMedia.querySelectorAll('.gtrigger-close'),\n      withCallback: function withCallback(e) {\n        e.preventDefault();\n        _this.close();\n      }\n    });\n    if (isFunction(callback)) {\n      callback();\n    }\n    return;\n  }\n  function slideIframe(slide, data, index, callback) {\n    var slideMedia = slide.querySelector('.gslide-media');\n    var iframe = createIframe({\n      url: data.href,\n      callback: callback\n    });\n    slideMedia.parentNode.style.maxWidth = data.width;\n    slideMedia.parentNode.style.height = data.height;\n    slideMedia.appendChild(iframe);\n    return;\n  }\n  var SlideConfigParser = function () {\n    function SlideConfigParser() {\n      var slideParamas = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      _classCallCheck(this, SlideConfigParser);\n      this.defaults = {\n        href: '',\n        sizes: '',\n        srcset: '',\n        title: '',\n        type: '',\n        videoProvider: '',\n        description: '',\n        alt: '',\n        descPosition: 'bottom',\n        effect: '',\n        width: '',\n        height: '',\n        content: false,\n        zoomable: true,\n        draggable: true\n      };\n      if (isObject(slideParamas)) {\n        this.defaults = extend(this.defaults, slideParamas);\n      }\n    }\n    _createClass(SlideConfigParser, [{\n      key: \"sourceType\",\n      value: function sourceType(url) {\n        var origin = url;\n        url = url.toLowerCase();\n        if (url.match(/\\.(jpeg|jpg|jpe|gif|png|apn|webp|avif|svg)/) !== null) {\n          return 'image';\n        }\n        if (url.match(/(youtube\\.com|youtube-nocookie\\.com)\\/watch\\?v=([a-zA-Z0-9\\-_]+)/) || url.match(/youtu\\.be\\/([a-zA-Z0-9\\-_]+)/) || url.match(/(youtube\\.com|youtube-nocookie\\.com)\\/embed\\/([a-zA-Z0-9\\-_]+)/)) {\n          return 'video';\n        }\n        if (url.match(/vimeo\\.com\\/([0-9]*)/)) {\n          return 'video';\n        }\n        if (url.match(/\\.(mp4|ogg|webm|mov)/) !== null) {\n          return 'video';\n        }\n        if (url.match(/\\.(mp3|wav|wma|aac|ogg)/) !== null) {\n          return 'audio';\n        }\n        if (url.indexOf('#') > -1) {\n          var hash = origin.split('#').pop();\n          if (hash.trim() !== '') {\n            return 'inline';\n          }\n        }\n        if (url.indexOf('goajax=true') > -1) {\n          return 'ajax';\n        }\n        return 'external';\n      }\n    }, {\n      key: \"parseConfig\",\n      value: function parseConfig(element, settings) {\n        var _this = this;\n        var data = extend({\n          descPosition: settings.descPosition\n        }, this.defaults);\n        if (isObject(element) && !isNode(element)) {\n          if (!has(element, 'type')) {\n            if (has(element, 'content') && element.content) {\n              element.type = 'inline';\n            } else if (has(element, 'href')) {\n              element.type = this.sourceType(element.href);\n            }\n          }\n          var objectData = extend(data, element);\n          this.setSize(objectData, settings);\n          return objectData;\n        }\n        var url = '';\n        var config = element.getAttribute('data-glightbox');\n        var nodeType = element.nodeName.toLowerCase();\n        if (nodeType === 'a') {\n          url = element.href;\n        }\n        if (nodeType === 'img') {\n          url = element.src;\n          data.alt = element.alt;\n        }\n        data.href = url;\n        each(data, function (val, key) {\n          if (has(settings, key) && key !== 'width') {\n            data[key] = settings[key];\n          }\n          var nodeData = element.dataset[key];\n          if (!isNil(nodeData)) {\n            data[key] = _this.sanitizeValue(nodeData);\n          }\n        });\n        if (data.content) {\n          data.type = 'inline';\n        }\n        if (!data.type && url) {\n          data.type = this.sourceType(url);\n        }\n        if (!isNil(config)) {\n          var cleanKeys = [];\n          each(data, function (v, k) {\n            cleanKeys.push(';\\\\s?' + k);\n          });\n          cleanKeys = cleanKeys.join('\\\\s?:|');\n          if (config.trim() !== '') {\n            each(data, function (val, key) {\n              var str = config;\n              var match = 's?' + key + 's?:s?(.*?)(' + cleanKeys + 's?:|$)';\n              var regex = new RegExp(match);\n              var matches = str.match(regex);\n              if (matches && matches.length && matches[1]) {\n                var value = matches[1].trim().replace(/;\\s*$/, '');\n                data[key] = _this.sanitizeValue(value);\n              }\n            });\n          }\n        } else {\n          if (!data.title && nodeType == 'a') {\n            var title = element.title;\n            if (!isNil(title) && title !== '') {\n              data.title = title;\n            }\n          }\n          if (!data.title && nodeType == 'img') {\n            var alt = element.alt;\n            if (!isNil(alt) && alt !== '') {\n              data.title = alt;\n            }\n          }\n        }\n        if (data.description && data.description.substring(0, 1) === '.') {\n          var description;\n          try {\n            description = document.querySelector(data.description).innerHTML;\n          } catch (error) {\n            if (!(error instanceof DOMException)) {\n              throw error;\n            }\n          }\n          if (description) {\n            data.description = description;\n          }\n        }\n        if (!data.description) {\n          var nodeDesc = element.querySelector('.glightbox-desc');\n          if (nodeDesc) {\n            data.description = nodeDesc.innerHTML;\n          }\n        }\n        this.setSize(data, settings, element);\n        this.slideConfig = data;\n        return data;\n      }\n    }, {\n      key: \"setSize\",\n      value: function setSize(data, settings) {\n        var element = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n        var defaultWith = data.type == 'video' ? this.checkSize(settings.videosWidth) : this.checkSize(settings.width);\n        var defaultHeight = this.checkSize(settings.height);\n        data.width = has(data, 'width') && data.width !== '' ? this.checkSize(data.width) : defaultWith;\n        data.height = has(data, 'height') && data.height !== '' ? this.checkSize(data.height) : defaultHeight;\n        if (element && data.type == 'image') {\n          data._hasCustomWidth = element.dataset.width ? true : false;\n          data._hasCustomHeight = element.dataset.height ? true : false;\n        }\n        return data;\n      }\n    }, {\n      key: \"checkSize\",\n      value: function checkSize(size) {\n        return isNumber(size) ? \"\".concat(size, \"px\") : size;\n      }\n    }, {\n      key: \"sanitizeValue\",\n      value: function sanitizeValue(val) {\n        if (val !== 'true' && val !== 'false') {\n          return val;\n        }\n        return val === 'true';\n      }\n    }]);\n    return SlideConfigParser;\n  }();\n  var Slide = function () {\n    function Slide(el, instance, index) {\n      _classCallCheck(this, Slide);\n      this.element = el;\n      this.instance = instance;\n      this.index = index;\n    }\n    _createClass(Slide, [{\n      key: \"setContent\",\n      value: function setContent() {\n        var _this = this;\n        var slide = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n        var callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n        if (hasClass(slide, 'loaded')) {\n          return false;\n        }\n        var settings = this.instance.settings;\n        var slideConfig = this.slideConfig;\n        var isMobileDevice = isMobile();\n        if (isFunction(settings.beforeSlideLoad)) {\n          settings.beforeSlideLoad({\n            index: this.index,\n            slide: slide,\n            player: false\n          });\n        }\n        var type = slideConfig.type;\n        var position = slideConfig.descPosition;\n        var slideMedia = slide.querySelector('.gslide-media');\n        var slideTitle = slide.querySelector('.gslide-title');\n        var slideText = slide.querySelector('.gslide-desc');\n        var slideDesc = slide.querySelector('.gdesc-inner');\n        var finalCallback = callback;\n        var titleID = 'gSlideTitle_' + this.index;\n        var textID = 'gSlideDesc_' + this.index;\n        if (isFunction(settings.afterSlideLoad)) {\n          finalCallback = function finalCallback() {\n            if (isFunction(callback)) {\n              callback();\n            }\n            settings.afterSlideLoad({\n              index: _this.index,\n              slide: slide,\n              player: _this.instance.getSlidePlayerInstance(_this.index)\n            });\n          };\n        }\n        if (slideConfig.title == '' && slideConfig.description == '') {\n          if (slideDesc) {\n            slideDesc.parentNode.parentNode.removeChild(slideDesc.parentNode);\n          }\n        } else {\n          if (slideTitle && slideConfig.title !== '') {\n            slideTitle.id = titleID;\n            slideTitle.innerHTML = slideConfig.title;\n          } else {\n            slideTitle.parentNode.removeChild(slideTitle);\n          }\n          if (slideText && slideConfig.description !== '') {\n            slideText.id = textID;\n            if (isMobileDevice && settings.moreLength > 0) {\n              slideConfig.smallDescription = this.slideShortDesc(slideConfig.description, settings.moreLength, settings.moreText);\n              slideText.innerHTML = slideConfig.smallDescription;\n              this.descriptionEvents(slideText, slideConfig);\n            } else {\n              slideText.innerHTML = slideConfig.description;\n            }\n          } else {\n            slideText.parentNode.removeChild(slideText);\n          }\n          addClass(slideMedia.parentNode, \"desc-\".concat(position));\n          addClass(slideDesc.parentNode, \"description-\".concat(position));\n        }\n        addClass(slideMedia, \"gslide-\".concat(type));\n        addClass(slide, 'loaded');\n        if (type === 'video') {\n          slideVideo.apply(this.instance, [slide, slideConfig, this.index, finalCallback]);\n          return;\n        }\n        if (type === 'external') {\n          slideIframe.apply(this, [slide, slideConfig, this.index, finalCallback]);\n          return;\n        }\n        if (type === 'inline') {\n          slideInline.apply(this.instance, [slide, slideConfig, this.index, finalCallback]);\n          if (slideConfig.draggable) {\n            new DragSlides({\n              dragEl: slide.querySelector('.gslide-inline'),\n              toleranceX: settings.dragToleranceX,\n              toleranceY: settings.dragToleranceY,\n              slide: slide,\n              instance: this.instance\n            });\n          }\n          return;\n        }\n        if (type === 'image') {\n          slideImage(slide, slideConfig, this.index, function () {\n            var img = slide.querySelector('img');\n            if (slideConfig.draggable) {\n              new DragSlides({\n                dragEl: img,\n                toleranceX: settings.dragToleranceX,\n                toleranceY: settings.dragToleranceY,\n                slide: slide,\n                instance: _this.instance\n              });\n            }\n            if (slideConfig.zoomable && img.naturalWidth > img.offsetWidth) {\n              addClass(img, 'zoomable');\n              new ZoomImages(img, slide, function () {\n                _this.instance.resize();\n              });\n            }\n            if (isFunction(finalCallback)) {\n              finalCallback();\n            }\n          });\n          return;\n        }\n        if (isFunction(finalCallback)) {\n          finalCallback();\n        }\n      }\n    }, {\n      key: \"slideShortDesc\",\n      value: function slideShortDesc(string) {\n        var n = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 50;\n        var wordBoundary = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n        var div = document.createElement('div');\n        div.innerHTML = string;\n        var cleanedString = div.innerText;\n        var useWordBoundary = wordBoundary;\n        string = cleanedString.trim();\n        if (string.length <= n) {\n          return string;\n        }\n        var subString = string.substr(0, n - 1);\n        if (!useWordBoundary) {\n          return subString;\n        }\n        div = null;\n        return subString + '... <a href=\"#\" class=\"desc-more\">' + wordBoundary + '</a>';\n      }\n    }, {\n      key: \"descriptionEvents\",\n      value: function descriptionEvents(desc, data) {\n        var _this2 = this;\n        var moreLink = desc.querySelector('.desc-more');\n        if (!moreLink) {\n          return false;\n        }\n        addEvent('click', {\n          onElement: moreLink,\n          withCallback: function withCallback(event, target) {\n            event.preventDefault();\n            var body = document.body;\n            var desc = closest(target, '.gslide-desc');\n            if (!desc) {\n              return false;\n            }\n            desc.innerHTML = data.description;\n            addClass(body, 'gdesc-open');\n            var shortEvent = addEvent('click', {\n              onElement: [body, closest(desc, '.gslide-description')],\n              withCallback: function withCallback(event, target) {\n                if (event.target.nodeName.toLowerCase() !== 'a') {\n                  removeClass(body, 'gdesc-open');\n                  addClass(body, 'gdesc-closed');\n                  desc.innerHTML = data.smallDescription;\n                  _this2.descriptionEvents(desc, data);\n                  setTimeout(function () {\n                    removeClass(body, 'gdesc-closed');\n                  }, 400);\n                  shortEvent.destroy();\n                }\n              }\n            });\n          }\n        });\n      }\n    }, {\n      key: \"create\",\n      value: function create() {\n        return createHTML(this.instance.settings.slideHTML);\n      }\n    }, {\n      key: \"getConfig\",\n      value: function getConfig() {\n        if (!isNode(this.element) && !this.element.hasOwnProperty('draggable')) {\n          this.element.draggable = this.instance.settings.draggable;\n        }\n        var parser = new SlideConfigParser(this.instance.settings.slideExtraAttributes);\n        this.slideConfig = parser.parseConfig(this.element, this.instance.settings);\n        return this.slideConfig;\n      }\n    }]);\n    return Slide;\n  }();\n  var _version = '3.1.0';\n  var isMobile$1 = isMobile();\n  var isTouch$1 = isTouch();\n  var html = document.getElementsByTagName('html')[0];\n  var defaults = {\n    selector: '.glightbox',\n    elements: null,\n    skin: 'clean',\n    theme: 'clean',\n    closeButton: true,\n    startAt: null,\n    autoplayVideos: true,\n    autofocusVideos: true,\n    descPosition: 'bottom',\n    width: '900px',\n    height: '506px',\n    videosWidth: '960px',\n    beforeSlideChange: null,\n    afterSlideChange: null,\n    beforeSlideLoad: null,\n    afterSlideLoad: null,\n    slideInserted: null,\n    slideRemoved: null,\n    slideExtraAttributes: null,\n    onOpen: null,\n    onClose: null,\n    loop: false,\n    zoomable: true,\n    draggable: true,\n    dragAutoSnap: false,\n    dragToleranceX: 40,\n    dragToleranceY: 65,\n    preload: true,\n    oneSlidePerOpen: false,\n    touchNavigation: true,\n    touchFollowAxis: true,\n    keyboardNavigation: true,\n    closeOnOutsideClick: true,\n    plugins: false,\n    plyr: {\n      css: 'https://cdn.plyr.io/3.6.12/plyr.css',\n      js: 'https://cdn.plyr.io/3.6.12/plyr.js',\n      config: {\n        ratio: '16:9',\n        fullscreen: {\n          enabled: true,\n          iosNative: true\n        },\n        youtube: {\n          noCookie: true,\n          rel: 0,\n          showinfo: 0,\n          iv_load_policy: 3\n        },\n        vimeo: {\n          byline: false,\n          portrait: false,\n          title: false,\n          transparent: false\n        }\n      }\n    },\n    openEffect: 'zoom',\n    closeEffect: 'zoom',\n    slideEffect: 'slide',\n    moreText: 'See more',\n    moreLength: 60,\n    cssEfects: {\n      fade: {\n        \"in\": 'fadeIn',\n        out: 'fadeOut'\n      },\n      zoom: {\n        \"in\": 'zoomIn',\n        out: 'zoomOut'\n      },\n      slide: {\n        \"in\": 'slideInRight',\n        out: 'slideOutLeft'\n      },\n      slideBack: {\n        \"in\": 'slideInLeft',\n        out: 'slideOutRight'\n      },\n      none: {\n        \"in\": 'none',\n        out: 'none'\n      }\n    },\n    svg: {\n      close: '<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" viewBox=\"0 0 512 512\" xml:space=\"preserve\"><g><g><path d=\"M505.943,6.058c-8.077-8.077-21.172-8.077-29.249,0L6.058,476.693c-8.077,8.077-8.077,21.172,0,29.249C10.096,509.982,15.39,512,20.683,512c5.293,0,10.586-2.019,14.625-6.059L505.943,35.306C514.019,27.23,514.019,14.135,505.943,6.058z\"/></g></g><g><g><path d=\"M505.942,476.694L35.306,6.059c-8.076-8.077-21.172-8.077-29.248,0c-8.077,8.076-8.077,21.171,0,29.248l470.636,470.636c4.038,4.039,9.332,6.058,14.625,6.058c5.293,0,10.587-2.019,14.624-6.057C514.018,497.866,514.018,484.771,505.942,476.694z\"/></g></g></svg>',\n      next: '<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" viewBox=\"0 0 477.175 477.175\" xml:space=\"preserve\"> <g><path d=\"M360.731,229.075l-225.1-225.1c-5.3-5.3-13.8-5.3-19.1,0s-5.3,13.8,0,19.1l215.5,215.5l-215.5,215.5c-5.3,5.3-5.3,13.8,0,19.1c2.6,2.6,6.1,4,9.5,4c3.4,0,6.9-1.3,9.5-4l225.1-225.1C365.931,242.875,365.931,234.275,360.731,229.075z\"/></g></svg>',\n      prev: '<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" viewBox=\"0 0 477.175 477.175\" xml:space=\"preserve\"><g><path d=\"M145.188,238.575l215.5-215.5c5.3-5.3,5.3-13.8,0-19.1s-13.8-5.3-19.1,0l-225.1,225.1c-5.3,5.3-5.3,13.8,0,19.1l225.1,225c2.6,2.6,6.1,4,9.5,4s6.9-1.3,9.5-4c5.3-5.3,5.3-13.8,0-19.1L145.188,238.575z\"/></g></svg>'\n    }\n  };\n  defaults.slideHTML = \"<div class=\\\"gslide\\\">\\n    <div class=\\\"gslide-inner-content\\\">\\n        <div class=\\\"ginner-container\\\">\\n            <div class=\\\"gslide-media\\\">\\n            </div>\\n            <div class=\\\"gslide-description\\\">\\n                <div class=\\\"gdesc-inner\\\">\\n                    <h4 class=\\\"gslide-title\\\"></h4>\\n                    <div class=\\\"gslide-desc\\\"></div>\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\";\n  defaults.lightboxHTML = \"<div id=\\\"glightbox-body\\\" class=\\\"glightbox-container\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\" aria-hidden=\\\"false\\\">\\n    <div class=\\\"gloader visible\\\"></div>\\n    <div class=\\\"goverlay\\\"></div>\\n    <div class=\\\"gcontainer\\\">\\n    <div id=\\\"glightbox-slider\\\" class=\\\"gslider\\\"></div>\\n    <button class=\\\"gclose gbtn\\\" aria-label=\\\"Close\\\" data-taborder=\\\"3\\\">{closeSVG}</button>\\n    <button class=\\\"gprev gbtn\\\" aria-label=\\\"Previous\\\" data-taborder=\\\"2\\\">{prevSVG}</button>\\n    <button class=\\\"gnext gbtn\\\" aria-label=\\\"Next\\\" data-taborder=\\\"1\\\">{nextSVG}</button>\\n</div>\\n</div>\";\n  var GlightboxInit = function () {\n    function GlightboxInit() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      _classCallCheck(this, GlightboxInit);\n      this.customOptions = options;\n      this.settings = extend(defaults, options);\n      this.effectsClasses = this.getAnimationClasses();\n      this.videoPlayers = {};\n      this.apiEvents = [];\n      this.fullElementsList = false;\n    }\n    _createClass(GlightboxInit, [{\n      key: \"init\",\n      value: function init() {\n        var _this = this;\n        var selector = this.getSelector();\n        if (selector) {\n          this.baseEvents = addEvent('click', {\n            onElement: selector,\n            withCallback: function withCallback(e, target) {\n              e.preventDefault();\n              _this.open(target);\n            }\n          });\n        }\n        this.elements = this.getElements();\n      }\n    }, {\n      key: \"open\",\n      value: function open() {\n        var element = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n        var startAt = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n        if (this.elements.length === 0) {\n          return false;\n        }\n        this.activeSlide = null;\n        this.prevActiveSlideIndex = null;\n        this.prevActiveSlide = null;\n        var index = isNumber(startAt) ? startAt : this.settings.startAt;\n        if (isNode(element)) {\n          var gallery = element.getAttribute('data-gallery');\n          if (gallery) {\n            this.fullElementsList = this.elements;\n            this.elements = this.getGalleryElements(this.elements, gallery);\n          }\n          if (isNil(index)) {\n            index = this.getElementIndex(element);\n            if (index < 0) {\n              index = 0;\n            }\n          }\n        }\n        if (!isNumber(index)) {\n          index = 0;\n        }\n        this.build();\n        animateElement(this.overlay, this.settings.openEffect === 'none' ? 'none' : this.settings.cssEfects.fade[\"in\"]);\n        var body = document.body;\n        var scrollBar = window.innerWidth - document.documentElement.clientWidth;\n        if (scrollBar > 0) {\n          var styleSheet = document.createElement('style');\n          styleSheet.type = 'text/css';\n          styleSheet.className = 'gcss-styles';\n          styleSheet.innerText = \".gscrollbar-fixer {margin-right: \".concat(scrollBar, \"px}\");\n          document.head.appendChild(styleSheet);\n          addClass(body, 'gscrollbar-fixer');\n        }\n        addClass(body, 'glightbox-open');\n        addClass(html, 'glightbox-open');\n        if (isMobile$1) {\n          addClass(document.body, 'glightbox-mobile');\n          this.settings.slideEffect = 'slide';\n        }\n        this.showSlide(index, true);\n        if (this.elements.length === 1) {\n          addClass(this.prevButton, 'glightbox-button-hidden');\n          addClass(this.nextButton, 'glightbox-button-hidden');\n        } else {\n          removeClass(this.prevButton, 'glightbox-button-hidden');\n          removeClass(this.nextButton, 'glightbox-button-hidden');\n        }\n        this.lightboxOpen = true;\n        this.trigger('open');\n        if (isFunction(this.settings.onOpen)) {\n          this.settings.onOpen();\n        }\n        if (isTouch$1 && this.settings.touchNavigation) {\n          touchNavigation(this);\n        }\n        if (this.settings.keyboardNavigation) {\n          keyboardNavigation(this);\n        }\n      }\n    }, {\n      key: \"openAt\",\n      value: function openAt() {\n        var index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n        this.open(null, index);\n      }\n    }, {\n      key: \"showSlide\",\n      value: function showSlide() {\n        var _this2 = this;\n        var index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n        var first = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n        show(this.loader);\n        this.index = parseInt(index);\n        var current = this.slidesContainer.querySelector('.current');\n        if (current) {\n          removeClass(current, 'current');\n        }\n        this.slideAnimateOut();\n        var slideNode = this.slidesContainer.querySelectorAll('.gslide')[index];\n        if (hasClass(slideNode, 'loaded')) {\n          this.slideAnimateIn(slideNode, first);\n          hide(this.loader);\n        } else {\n          show(this.loader);\n          var slide = this.elements[index];\n          var slideData = {\n            index: this.index,\n            slide: slideNode,\n            slideNode: slideNode,\n            slideConfig: slide.slideConfig,\n            slideIndex: this.index,\n            trigger: slide.node,\n            player: null\n          };\n          this.trigger('slide_before_load', slideData);\n          slide.instance.setContent(slideNode, function () {\n            hide(_this2.loader);\n            _this2.resize();\n            _this2.slideAnimateIn(slideNode, first);\n            _this2.trigger('slide_after_load', slideData);\n          });\n        }\n        this.slideDescription = slideNode.querySelector('.gslide-description');\n        this.slideDescriptionContained = this.slideDescription && hasClass(this.slideDescription.parentNode, 'gslide-media');\n        if (this.settings.preload) {\n          this.preloadSlide(index + 1);\n          this.preloadSlide(index - 1);\n        }\n        this.updateNavigationClasses();\n        this.activeSlide = slideNode;\n      }\n    }, {\n      key: \"preloadSlide\",\n      value: function preloadSlide(index) {\n        var _this3 = this;\n        if (index < 0 || index > this.elements.length - 1) {\n          return false;\n        }\n        if (isNil(this.elements[index])) {\n          return false;\n        }\n        var slideNode = this.slidesContainer.querySelectorAll('.gslide')[index];\n        if (hasClass(slideNode, 'loaded')) {\n          return false;\n        }\n        var slide = this.elements[index];\n        var type = slide.type;\n        var slideData = {\n          index: index,\n          slide: slideNode,\n          slideNode: slideNode,\n          slideConfig: slide.slideConfig,\n          slideIndex: index,\n          trigger: slide.node,\n          player: null\n        };\n        this.trigger('slide_before_load', slideData);\n        if (type === 'video' || type === 'external') {\n          setTimeout(function () {\n            slide.instance.setContent(slideNode, function () {\n              _this3.trigger('slide_after_load', slideData);\n            });\n          }, 200);\n        } else {\n          slide.instance.setContent(slideNode, function () {\n            _this3.trigger('slide_after_load', slideData);\n          });\n        }\n      }\n    }, {\n      key: \"prevSlide\",\n      value: function prevSlide() {\n        this.goToSlide(this.index - 1);\n      }\n    }, {\n      key: \"nextSlide\",\n      value: function nextSlide() {\n        this.goToSlide(this.index + 1);\n      }\n    }, {\n      key: \"goToSlide\",\n      value: function goToSlide() {\n        var index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n        this.prevActiveSlide = this.activeSlide;\n        this.prevActiveSlideIndex = this.index;\n        if (!this.loop() && (index < 0 || index > this.elements.length - 1)) {\n          return false;\n        }\n        if (index < 0) {\n          index = this.elements.length - 1;\n        } else if (index >= this.elements.length) {\n          index = 0;\n        }\n        this.showSlide(index);\n      }\n    }, {\n      key: \"insertSlide\",\n      value: function insertSlide() {\n        var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        var index = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : -1;\n        if (index < 0) {\n          index = this.elements.length;\n        }\n        var slide = new Slide(config, this, index);\n        var data = slide.getConfig();\n        var slideInfo = extend({}, data);\n        var newSlide = slide.create();\n        var totalSlides = this.elements.length - 1;\n        slideInfo.index = index;\n        slideInfo.node = false;\n        slideInfo.instance = slide;\n        slideInfo.slideConfig = data;\n        this.elements.splice(index, 0, slideInfo);\n        var addedSlideNode = null;\n        var addedSlidePlayer = null;\n        if (this.slidesContainer) {\n          if (index > totalSlides) {\n            this.slidesContainer.appendChild(newSlide);\n          } else {\n            var existingSlide = this.slidesContainer.querySelectorAll('.gslide')[index];\n            this.slidesContainer.insertBefore(newSlide, existingSlide);\n          }\n          if (this.settings.preload && this.index == 0 && index == 0 || this.index - 1 == index || this.index + 1 == index) {\n            this.preloadSlide(index);\n          }\n          if (this.index === 0 && index === 0) {\n            this.index = 1;\n          }\n          this.updateNavigationClasses();\n          addedSlideNode = this.slidesContainer.querySelectorAll('.gslide')[index];\n          addedSlidePlayer = this.getSlidePlayerInstance(index);\n          slideInfo.slideNode = addedSlideNode;\n        }\n        this.trigger('slide_inserted', {\n          index: index,\n          slide: addedSlideNode,\n          slideNode: addedSlideNode,\n          slideConfig: data,\n          slideIndex: index,\n          trigger: null,\n          player: addedSlidePlayer\n        });\n        if (isFunction(this.settings.slideInserted)) {\n          this.settings.slideInserted({\n            index: index,\n            slide: addedSlideNode,\n            player: addedSlidePlayer\n          });\n        }\n      }\n    }, {\n      key: \"removeSlide\",\n      value: function removeSlide() {\n        var index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : -1;\n        if (index < 0 || index > this.elements.length - 1) {\n          return false;\n        }\n        var slide = this.slidesContainer && this.slidesContainer.querySelectorAll('.gslide')[index];\n        if (slide) {\n          if (this.getActiveSlideIndex() == index) {\n            if (index == this.elements.length - 1) {\n              this.prevSlide();\n            } else {\n              this.nextSlide();\n            }\n          }\n          slide.parentNode.removeChild(slide);\n        }\n        this.elements.splice(index, 1);\n        this.trigger('slide_removed', index);\n        if (isFunction(this.settings.slideRemoved)) {\n          this.settings.slideRemoved(index);\n        }\n      }\n    }, {\n      key: \"slideAnimateIn\",\n      value: function slideAnimateIn(slide, first) {\n        var _this4 = this;\n        var slideMedia = slide.querySelector('.gslide-media');\n        var slideDesc = slide.querySelector('.gslide-description');\n        var prevData = {\n          index: this.prevActiveSlideIndex,\n          slide: this.prevActiveSlide,\n          slideNode: this.prevActiveSlide,\n          slideIndex: this.prevActiveSlide,\n          slideConfig: isNil(this.prevActiveSlideIndex) ? null : this.elements[this.prevActiveSlideIndex].slideConfig,\n          trigger: isNil(this.prevActiveSlideIndex) ? null : this.elements[this.prevActiveSlideIndex].node,\n          player: this.getSlidePlayerInstance(this.prevActiveSlideIndex)\n        };\n        var nextData = {\n          index: this.index,\n          slide: this.activeSlide,\n          slideNode: this.activeSlide,\n          slideConfig: this.elements[this.index].slideConfig,\n          slideIndex: this.index,\n          trigger: this.elements[this.index].node,\n          player: this.getSlidePlayerInstance(this.index)\n        };\n        if (slideMedia.offsetWidth > 0 && slideDesc) {\n          hide(slideDesc);\n          slideDesc.style.display = '';\n        }\n        removeClass(slide, this.effectsClasses);\n        if (first) {\n          animateElement(slide, this.settings.cssEfects[this.settings.openEffect][\"in\"], function () {\n            if (_this4.settings.autoplayVideos) {\n              _this4.slidePlayerPlay(slide);\n            }\n            _this4.trigger('slide_changed', {\n              prev: prevData,\n              current: nextData\n            });\n            if (isFunction(_this4.settings.afterSlideChange)) {\n              _this4.settings.afterSlideChange.apply(_this4, [prevData, nextData]);\n            }\n          });\n        } else {\n          var effectName = this.settings.slideEffect;\n          var animIn = effectName !== 'none' ? this.settings.cssEfects[effectName][\"in\"] : effectName;\n          if (this.prevActiveSlideIndex > this.index) {\n            if (this.settings.slideEffect == 'slide') {\n              animIn = this.settings.cssEfects.slideBack[\"in\"];\n            }\n          }\n          animateElement(slide, animIn, function () {\n            if (_this4.settings.autoplayVideos) {\n              _this4.slidePlayerPlay(slide);\n            }\n            _this4.trigger('slide_changed', {\n              prev: prevData,\n              current: nextData\n            });\n            if (isFunction(_this4.settings.afterSlideChange)) {\n              _this4.settings.afterSlideChange.apply(_this4, [prevData, nextData]);\n            }\n          });\n        }\n        setTimeout(function () {\n          _this4.resize(slide);\n        }, 100);\n        addClass(slide, 'current');\n      }\n    }, {\n      key: \"slideAnimateOut\",\n      value: function slideAnimateOut() {\n        if (!this.prevActiveSlide) {\n          return false;\n        }\n        var prevSlide = this.prevActiveSlide;\n        removeClass(prevSlide, this.effectsClasses);\n        addClass(prevSlide, 'prev');\n        var animation = this.settings.slideEffect;\n        var animOut = animation !== 'none' ? this.settings.cssEfects[animation].out : animation;\n        this.slidePlayerPause(prevSlide);\n        this.trigger('slide_before_change', {\n          prev: {\n            index: this.prevActiveSlideIndex,\n            slide: this.prevActiveSlide,\n            slideNode: this.prevActiveSlide,\n            slideIndex: this.prevActiveSlideIndex,\n            slideConfig: isNil(this.prevActiveSlideIndex) ? null : this.elements[this.prevActiveSlideIndex].slideConfig,\n            trigger: isNil(this.prevActiveSlideIndex) ? null : this.elements[this.prevActiveSlideIndex].node,\n            player: this.getSlidePlayerInstance(this.prevActiveSlideIndex)\n          },\n          current: {\n            index: this.index,\n            slide: this.activeSlide,\n            slideNode: this.activeSlide,\n            slideIndex: this.index,\n            slideConfig: this.elements[this.index].slideConfig,\n            trigger: this.elements[this.index].node,\n            player: this.getSlidePlayerInstance(this.index)\n          }\n        });\n        if (isFunction(this.settings.beforeSlideChange)) {\n          this.settings.beforeSlideChange.apply(this, [{\n            index: this.prevActiveSlideIndex,\n            slide: this.prevActiveSlide,\n            player: this.getSlidePlayerInstance(this.prevActiveSlideIndex)\n          }, {\n            index: this.index,\n            slide: this.activeSlide,\n            player: this.getSlidePlayerInstance(this.index)\n          }]);\n        }\n        if (this.prevActiveSlideIndex > this.index && this.settings.slideEffect == 'slide') {\n          animOut = this.settings.cssEfects.slideBack.out;\n        }\n        animateElement(prevSlide, animOut, function () {\n          var container = prevSlide.querySelector('.ginner-container');\n          var media = prevSlide.querySelector('.gslide-media');\n          var desc = prevSlide.querySelector('.gslide-description');\n          container.style.transform = '';\n          media.style.transform = '';\n          removeClass(media, 'greset');\n          media.style.opacity = '';\n          if (desc) {\n            desc.style.opacity = '';\n          }\n          removeClass(prevSlide, 'prev');\n        });\n      }\n    }, {\n      key: \"getAllPlayers\",\n      value: function getAllPlayers() {\n        return this.videoPlayers;\n      }\n    }, {\n      key: \"getSlidePlayerInstance\",\n      value: function getSlidePlayerInstance(index) {\n        var id = 'gvideo' + index;\n        var videoPlayers = this.getAllPlayers();\n        if (has(videoPlayers, id) && videoPlayers[id]) {\n          return videoPlayers[id];\n        }\n        return false;\n      }\n    }, {\n      key: \"stopSlideVideo\",\n      value: function stopSlideVideo(slide) {\n        if (isNode(slide)) {\n          var node = slide.querySelector('.gvideo-wrapper');\n          if (node) {\n            slide = node.getAttribute('data-index');\n          }\n        }\n        console.log('stopSlideVideo is deprecated, use slidePlayerPause');\n        var player = this.getSlidePlayerInstance(slide);\n        if (player && player.playing) {\n          player.pause();\n        }\n      }\n    }, {\n      key: \"slidePlayerPause\",\n      value: function slidePlayerPause(slide) {\n        if (isNode(slide)) {\n          var node = slide.querySelector('.gvideo-wrapper');\n          if (node) {\n            slide = node.getAttribute('data-index');\n          }\n        }\n        var player = this.getSlidePlayerInstance(slide);\n        if (player && player.playing) {\n          player.pause();\n        }\n      }\n    }, {\n      key: \"playSlideVideo\",\n      value: function playSlideVideo(slide) {\n        if (isNode(slide)) {\n          var node = slide.querySelector('.gvideo-wrapper');\n          if (node) {\n            slide = node.getAttribute('data-index');\n          }\n        }\n        console.log('playSlideVideo is deprecated, use slidePlayerPlay');\n        var player = this.getSlidePlayerInstance(slide);\n        if (player && !player.playing) {\n          player.play();\n        }\n      }\n    }, {\n      key: \"slidePlayerPlay\",\n      value: function slidePlayerPlay(slide) {\n        var _this$settings$plyr$c;\n        if (isMobile$1 && !((_this$settings$plyr$c = this.settings.plyr.config) !== null && _this$settings$plyr$c !== void 0 && _this$settings$plyr$c.muted)) {\n          return;\n        }\n        if (isNode(slide)) {\n          var node = slide.querySelector('.gvideo-wrapper');\n          if (node) {\n            slide = node.getAttribute('data-index');\n          }\n        }\n        var player = this.getSlidePlayerInstance(slide);\n        if (player && !player.playing) {\n          player.play();\n          if (this.settings.autofocusVideos) {\n            player.elements.container.focus();\n          }\n        }\n      }\n    }, {\n      key: \"setElements\",\n      value: function setElements(elements) {\n        var _this5 = this;\n        this.settings.elements = false;\n        var newElements = [];\n        if (elements && elements.length) {\n          each(elements, function (el, i) {\n            var slide = new Slide(el, _this5, i);\n            var data = slide.getConfig();\n            var slideInfo = extend({}, data);\n            slideInfo.slideConfig = data;\n            slideInfo.instance = slide;\n            slideInfo.index = i;\n            newElements.push(slideInfo);\n          });\n        }\n        this.elements = newElements;\n        if (this.lightboxOpen) {\n          this.slidesContainer.innerHTML = '';\n          if (this.elements.length) {\n            each(this.elements, function () {\n              var slide = createHTML(_this5.settings.slideHTML);\n              _this5.slidesContainer.appendChild(slide);\n            });\n            this.showSlide(0, true);\n          }\n        }\n      }\n    }, {\n      key: \"getElementIndex\",\n      value: function getElementIndex(node) {\n        var index = false;\n        each(this.elements, function (el, i) {\n          if (has(el, 'node') && el.node == node) {\n            index = i;\n            return true;\n          }\n        });\n        return index;\n      }\n    }, {\n      key: \"getElements\",\n      value: function getElements() {\n        var _this6 = this;\n        var list = [];\n        this.elements = this.elements ? this.elements : [];\n        if (!isNil(this.settings.elements) && isArray(this.settings.elements) && this.settings.elements.length) {\n          each(this.settings.elements, function (el, i) {\n            var slide = new Slide(el, _this6, i);\n            var elData = slide.getConfig();\n            var slideInfo = extend({}, elData);\n            slideInfo.node = false;\n            slideInfo.index = i;\n            slideInfo.instance = slide;\n            slideInfo.slideConfig = elData;\n            list.push(slideInfo);\n          });\n        }\n        var nodes = false;\n        var selector = this.getSelector();\n        if (selector) {\n          nodes = document.querySelectorAll(this.getSelector());\n        }\n        if (!nodes) {\n          return list;\n        }\n        each(nodes, function (el, i) {\n          var slide = new Slide(el, _this6, i);\n          var elData = slide.getConfig();\n          var slideInfo = extend({}, elData);\n          slideInfo.node = el;\n          slideInfo.index = i;\n          slideInfo.instance = slide;\n          slideInfo.slideConfig = elData;\n          slideInfo.gallery = el.getAttribute('data-gallery');\n          list.push(slideInfo);\n        });\n        return list;\n      }\n    }, {\n      key: \"getGalleryElements\",\n      value: function getGalleryElements(list, gallery) {\n        return list.filter(function (el) {\n          return el.gallery == gallery;\n        });\n      }\n    }, {\n      key: \"getSelector\",\n      value: function getSelector() {\n        if (this.settings.elements) {\n          return false;\n        }\n        if (this.settings.selector && this.settings.selector.substring(0, 5) == 'data-') {\n          return \"*[\".concat(this.settings.selector, \"]\");\n        }\n        return this.settings.selector;\n      }\n    }, {\n      key: \"getActiveSlide\",\n      value: function getActiveSlide() {\n        return this.slidesContainer.querySelectorAll('.gslide')[this.index];\n      }\n    }, {\n      key: \"getActiveSlideIndex\",\n      value: function getActiveSlideIndex() {\n        return this.index;\n      }\n    }, {\n      key: \"getAnimationClasses\",\n      value: function getAnimationClasses() {\n        var effects = [];\n        for (var key in this.settings.cssEfects) {\n          if (this.settings.cssEfects.hasOwnProperty(key)) {\n            var effect = this.settings.cssEfects[key];\n            effects.push(\"g\".concat(effect[\"in\"]));\n            effects.push(\"g\".concat(effect.out));\n          }\n        }\n        return effects.join(' ');\n      }\n    }, {\n      key: \"build\",\n      value: function build() {\n        var _this7 = this;\n        if (this.built) {\n          return false;\n        }\n        var children = document.body.childNodes;\n        var bodyChildElms = [];\n        each(children, function (el) {\n          if (el.parentNode == document.body && el.nodeName.charAt(0) !== '#' && el.hasAttribute && !el.hasAttribute('aria-hidden')) {\n            bodyChildElms.push(el);\n            el.setAttribute('aria-hidden', 'true');\n          }\n        });\n        var nextSVG = has(this.settings.svg, 'next') ? this.settings.svg.next : '';\n        var prevSVG = has(this.settings.svg, 'prev') ? this.settings.svg.prev : '';\n        var closeSVG = has(this.settings.svg, 'close') ? this.settings.svg.close : '';\n        var lightboxHTML = this.settings.lightboxHTML;\n        lightboxHTML = lightboxHTML.replace(/{nextSVG}/g, nextSVG);\n        lightboxHTML = lightboxHTML.replace(/{prevSVG}/g, prevSVG);\n        lightboxHTML = lightboxHTML.replace(/{closeSVG}/g, closeSVG);\n        lightboxHTML = createHTML(lightboxHTML);\n        document.body.appendChild(lightboxHTML);\n        var modal = document.getElementById('glightbox-body');\n        this.modal = modal;\n        var closeButton = modal.querySelector('.gclose');\n        this.prevButton = modal.querySelector('.gprev');\n        this.nextButton = modal.querySelector('.gnext');\n        this.overlay = modal.querySelector('.goverlay');\n        this.loader = modal.querySelector('.gloader');\n        this.slidesContainer = document.getElementById('glightbox-slider');\n        this.bodyHiddenChildElms = bodyChildElms;\n        this.events = {};\n        addClass(this.modal, 'glightbox-' + this.settings.skin);\n        if (this.settings.closeButton && closeButton) {\n          this.events['close'] = addEvent('click', {\n            onElement: closeButton,\n            withCallback: function withCallback(e, target) {\n              e.preventDefault();\n              _this7.close();\n            }\n          });\n        }\n        if (closeButton && !this.settings.closeButton) {\n          closeButton.parentNode.removeChild(closeButton);\n        }\n        if (this.nextButton) {\n          this.events['next'] = addEvent('click', {\n            onElement: this.nextButton,\n            withCallback: function withCallback(e, target) {\n              e.preventDefault();\n              _this7.nextSlide();\n            }\n          });\n        }\n        if (this.prevButton) {\n          this.events['prev'] = addEvent('click', {\n            onElement: this.prevButton,\n            withCallback: function withCallback(e, target) {\n              e.preventDefault();\n              _this7.prevSlide();\n            }\n          });\n        }\n        if (this.settings.closeOnOutsideClick) {\n          this.events['outClose'] = addEvent('click', {\n            onElement: modal,\n            withCallback: function withCallback(e, target) {\n              if (!_this7.preventOutsideClick && !hasClass(document.body, 'glightbox-mobile') && !closest(e.target, '.ginner-container')) {\n                if (!closest(e.target, '.gbtn') && !hasClass(e.target, 'gnext') && !hasClass(e.target, 'gprev')) {\n                  _this7.close();\n                }\n              }\n            }\n          });\n        }\n        each(this.elements, function (slide, i) {\n          _this7.slidesContainer.appendChild(slide.instance.create());\n          slide.slideNode = _this7.slidesContainer.querySelectorAll('.gslide')[i];\n        });\n        if (isTouch$1) {\n          addClass(document.body, 'glightbox-touch');\n        }\n        this.events['resize'] = addEvent('resize', {\n          onElement: window,\n          withCallback: function withCallback() {\n            _this7.resize();\n          }\n        });\n        this.built = true;\n      }\n    }, {\n      key: \"resize\",\n      value: function resize() {\n        var slide = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n        slide = !slide ? this.activeSlide : slide;\n        if (!slide || hasClass(slide, 'zoomed')) {\n          return;\n        }\n        var winSize = windowSize();\n        var video = slide.querySelector('.gvideo-wrapper');\n        var image = slide.querySelector('.gslide-image');\n        var description = this.slideDescription;\n        var winWidth = winSize.width;\n        var winHeight = winSize.height;\n        if (winWidth <= 768) {\n          addClass(document.body, 'glightbox-mobile');\n        } else {\n          removeClass(document.body, 'glightbox-mobile');\n        }\n        if (!video && !image) {\n          return;\n        }\n        var descriptionResize = false;\n        if (description && (hasClass(description, 'description-bottom') || hasClass(description, 'description-top')) && !hasClass(description, 'gabsolute')) {\n          descriptionResize = true;\n        }\n        if (image) {\n          if (winWidth <= 768) {\n            var imgNode = image.querySelector('img');\n          } else if (descriptionResize) {\n            var descHeight = description.offsetHeight;\n            var _imgNode = image.querySelector('img');\n            _imgNode.setAttribute('style', \"max-height: calc(100vh - \".concat(descHeight, \"px)\"));\n            description.setAttribute('style', \"max-width: \".concat(_imgNode.offsetWidth, \"px;\"));\n          }\n        }\n        if (video) {\n          var ratio = has(this.settings.plyr.config, 'ratio') ? this.settings.plyr.config.ratio : '';\n          if (!ratio) {\n            var containerWidth = video.clientWidth;\n            var containerHeight = video.clientHeight;\n            var divisor = containerWidth / containerHeight;\n            ratio = \"\".concat(containerWidth / divisor, \":\").concat(containerHeight / divisor);\n          }\n          var videoRatio = ratio.split(':');\n          var videoWidth = this.settings.videosWidth;\n          var maxWidth = this.settings.videosWidth;\n          if (isNumber(videoWidth) || videoWidth.indexOf('px') !== -1) {\n            maxWidth = parseInt(videoWidth);\n          } else {\n            if (videoWidth.indexOf('vw') !== -1) {\n              maxWidth = winWidth * parseInt(videoWidth) / 100;\n            } else if (videoWidth.indexOf('vh') !== -1) {\n              maxWidth = winHeight * parseInt(videoWidth) / 100;\n            } else if (videoWidth.indexOf('%') !== -1) {\n              maxWidth = winWidth * parseInt(videoWidth) / 100;\n            } else {\n              maxWidth = parseInt(video.clientWidth);\n            }\n          }\n          var maxHeight = maxWidth / (parseInt(videoRatio[0]) / parseInt(videoRatio[1]));\n          maxHeight = Math.floor(maxHeight);\n          if (descriptionResize) {\n            winHeight = winHeight - description.offsetHeight;\n          }\n          if (maxWidth > winWidth || maxHeight > winHeight || winHeight < maxHeight && winWidth > maxWidth) {\n            var vwidth = video.offsetWidth;\n            var vheight = video.offsetHeight;\n            var _ratio = winHeight / vheight;\n            var vsize = {\n              width: vwidth * _ratio,\n              height: vheight * _ratio\n            };\n            video.parentNode.setAttribute('style', \"max-width: \".concat(vsize.width, \"px\"));\n            if (descriptionResize) {\n              description.setAttribute('style', \"max-width: \".concat(vsize.width, \"px;\"));\n            }\n          } else {\n            video.parentNode.style.maxWidth = \"\".concat(videoWidth);\n            if (descriptionResize) {\n              description.setAttribute('style', \"max-width: \".concat(videoWidth, \";\"));\n            }\n          }\n        }\n      }\n    }, {\n      key: \"reload\",\n      value: function reload() {\n        this.init();\n      }\n    }, {\n      key: \"updateNavigationClasses\",\n      value: function updateNavigationClasses() {\n        var loop = this.loop();\n        removeClass(this.nextButton, 'disabled');\n        removeClass(this.prevButton, 'disabled');\n        if (this.index == 0 && this.elements.length - 1 == 0) {\n          addClass(this.prevButton, 'disabled');\n          addClass(this.nextButton, 'disabled');\n        } else if (this.index === 0 && !loop) {\n          addClass(this.prevButton, 'disabled');\n        } else if (this.index === this.elements.length - 1 && !loop) {\n          addClass(this.nextButton, 'disabled');\n        }\n      }\n    }, {\n      key: \"loop\",\n      value: function loop() {\n        var loop = has(this.settings, 'loopAtEnd') ? this.settings.loopAtEnd : null;\n        loop = has(this.settings, 'loop') ? this.settings.loop : loop;\n        return loop;\n      }\n    }, {\n      key: \"close\",\n      value: function close() {\n        var _this8 = this;\n        if (!this.lightboxOpen) {\n          if (this.events) {\n            for (var key in this.events) {\n              if (this.events.hasOwnProperty(key)) {\n                this.events[key].destroy();\n              }\n            }\n            this.events = null;\n          }\n          return false;\n        }\n        if (this.closing) {\n          return false;\n        }\n        this.closing = true;\n        this.slidePlayerPause(this.activeSlide);\n        if (this.fullElementsList) {\n          this.elements = this.fullElementsList;\n        }\n        if (this.bodyHiddenChildElms.length) {\n          each(this.bodyHiddenChildElms, function (el) {\n            el.removeAttribute('aria-hidden');\n          });\n        }\n        addClass(this.modal, 'glightbox-closing');\n        animateElement(this.overlay, this.settings.openEffect == 'none' ? 'none' : this.settings.cssEfects.fade.out);\n        animateElement(this.activeSlide, this.settings.cssEfects[this.settings.closeEffect].out, function () {\n          _this8.activeSlide = null;\n          _this8.prevActiveSlideIndex = null;\n          _this8.prevActiveSlide = null;\n          _this8.built = false;\n          if (_this8.events) {\n            for (var _key in _this8.events) {\n              if (_this8.events.hasOwnProperty(_key)) {\n                _this8.events[_key].destroy();\n              }\n            }\n            _this8.events = null;\n          }\n          var body = document.body;\n          removeClass(html, 'glightbox-open');\n          removeClass(body, 'glightbox-open touching gdesc-open glightbox-touch glightbox-mobile gscrollbar-fixer');\n          _this8.modal.parentNode.removeChild(_this8.modal);\n          _this8.trigger('close');\n          if (isFunction(_this8.settings.onClose)) {\n            _this8.settings.onClose();\n          }\n          var styles = document.querySelector('.gcss-styles');\n          if (styles) {\n            styles.parentNode.removeChild(styles);\n          }\n          _this8.lightboxOpen = false;\n          _this8.closing = null;\n        });\n      }\n    }, {\n      key: \"destroy\",\n      value: function destroy() {\n        this.close();\n        this.clearAllEvents();\n        if (this.baseEvents) {\n          this.baseEvents.destroy();\n        }\n      }\n    }, {\n      key: \"on\",\n      value: function on(evt, callback) {\n        var once = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n        if (!evt || !isFunction(callback)) {\n          throw new TypeError('Event name and callback must be defined');\n        }\n        this.apiEvents.push({\n          evt: evt,\n          once: once,\n          callback: callback\n        });\n      }\n    }, {\n      key: \"once\",\n      value: function once(evt, callback) {\n        this.on(evt, callback, true);\n      }\n    }, {\n      key: \"trigger\",\n      value: function trigger(eventName) {\n        var _this9 = this;\n        var data = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n        var onceTriggered = [];\n        each(this.apiEvents, function (event, i) {\n          var evt = event.evt,\n            once = event.once,\n            callback = event.callback;\n          if (evt == eventName) {\n            callback(data);\n            if (once) {\n              onceTriggered.push(i);\n            }\n          }\n        });\n        if (onceTriggered.length) {\n          each(onceTriggered, function (i) {\n            return _this9.apiEvents.splice(i, 1);\n          });\n        }\n      }\n    }, {\n      key: \"clearAllEvents\",\n      value: function clearAllEvents() {\n        this.apiEvents.splice(0, this.apiEvents.length);\n      }\n    }, {\n      key: \"version\",\n      value: function version() {\n        return _version;\n      }\n    }]);\n    return GlightboxInit;\n  }();\n  function glightbox() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var instance = new GlightboxInit(options);\n    instance.init();\n    return instance;\n  }\n  return glightbox;\n});","map":{"version":3,"names":["global","factory","exports","module","define","amd","self","GLightbox","_typeof","obj","Symbol","iterator","constructor","prototype","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","protoProps","staticProps","uid","Date","now","extend","extended","deep","arguments","toString","call","merge","prop","hasOwnProperty","each","collection","callback","isNode","window","document","isArrayLike","isObject","size","l","has","getNodeEvents","node","name","undefined","fn","cache","data","all","evt","found","cl","eventName","addEvent","_ref","onElement","withCallback","_ref$avoidDuplicate","avoidDuplicate","_ref$once","once","_ref$useCapture","useCapture","thisArg","element","isString","querySelectorAll","handler","event","isFunction","destroy","el","events","splice","removeEventListener","addEventListener","push","addClass","split","classList","add","removeClass","remove","hasClass","contains","closest","elem","selector","body","parentElement","matches","msMatchesSelector","animateElement","animation","animationEnd","whichAnimationEvent","animationNames","cssTransform","translate","style","webkitTransform","MozTransform","msTransform","OTransform","transform","show","display","hide","createHTML","htmlStr","frag","createDocumentFragment","temp","createElement","innerHTML","firstChild","appendChild","windowSize","width","innerWidth","documentElement","clientWidth","height","innerHeight","clientHeight","t","animations","OAnimation","MozAnimation","WebkitAnimation","whichTransitionEvent","transitions","transition","OTransition","MozTransition","WebkitTransition","createIframe","config","url","allow","appendTo","iframe","className","src","setAttribute","onload","waitUntil","check","onComplete","delay","timeout","timeoutPointer","intervalPointer","setInterval","clearInterval","clearTimeout","setTimeout","injectAssets","waitFor","isNil","console","error","indexOf","head","getElementsByTagName","headStyles","link","rel","type","href","media","insertBefore","script","isMobile","navigator","userAgent","match","isTouch","createTouch","msMaxTouchPoints","f","s","nodeType","isArray","ar","Array","isFinite","o","keys","k","isNumber","n","isNaN","parseFloat","getNextFocusElement","current","btns","parseInt","orders","btn","getAttribute","highestOrder","Math","max","apply","map","order","newIndex","nextOrders","filter","nextFocus","sort","querySelector","concat","keyboardNavigation","keyCode","focusedButton","activeElement","nodeName","toLocaleLowerCase","preventDefault","first","focus","currentFocusOrder","nextSlide","prevSlide","close","getLen","v","sqrt","x","y","dot","v1","v2","getAngle","mr","r","acos","cross","getRotateAngle","angle","PI","EventsHandlerAdmin","handlers","value","del","dispatch","len","wrapFunc","EventshandlerAdmin","TouchEvents","option","start","bind","move","end","cancel","preV","pinchStartLen","zoom","isDoubleTap","noop","rotate","touchStart","multipointStart","multipointEnd","pinch","swipe","tap","doubleTap","longTap","singleTap","pressMove","twoFingerPressMove","touchMove","touchEnd","touchCancel","translateContainer","_cancelAllHandler","cancelAll","delta","last","tapTimeout","singleTapTimeout","longTapTimeout","swipeTimeout","x1","x2","y1","y2","preTapPosition","touches","ignoreDragFor","toLowerCase","log","pageX","pageY","abs","_cancelLongTap","_cancelSingleTap","_preventTap","currentX","currentY","sCurrentX","sCurrentY","sx2","deltaX","deltaY","sy2","movedX","movedY","changedTouches","direction","_swipeDirection","on","off","resetSlideMove","slide","transitionEnd","windowWidth","container","desc","opacity","touchNavigation","winSize","winWidth","winHeight","process","currentSlide","mediaImage","doingMove","initScale","maxScale","currentScale","doingZoom","imageZoomed","zoomedPosX","zoomedPosY","lastZoomedPosX","lastZoomedPosY","hDistance","vDistance","hDistancePercent","vDistancePercent","vSwipe","hSwipe","startCoords","endCoords","xDown","yDown","isInlined","sliderWrapper","getElementById","overlay","touchInstance","e","targetTouches","parentNode","clientX","clientY","activeSlide","offsetHeight","moved","xUp","yUp","xDiff","yDiff","settings","touchFollowAxis","h","scaleX","scaleY","scale","mhDistance","mvDistance","index","elements","ZoomImages","_this","onclose","img","setZoomEvents","active","zoomedIn","dragging","initialX","initialY","xOffset","yOffset","dragStart","dragEnd","drag","zoomOut","zoomIn","widowWidth","maxWidth","naturalWidth","maxHeight","naturalHeight","centerX","setTranslate","_this2","isDragging","onMove","xPos","yPos","DragSlides","dragEl","_config$toleranceX","toleranceX","_config$toleranceY","toleranceY","_config$slide","_config$instance","lastDirection","toleranceReached","dragContainer","clicked","exludeClicks","doSlideChange","preventOutsideClick","doSlideClose","currentXInt","currentYInt","doChange","shouldChange","dragAutoSnap","doClose","shouldClose","dragDir","lastChild","animated","slideImage","slideMedia","Image","titleID","textID","sizes","srcset","alt","title","description","_hasCustomWidth","_hasCustomHeight","slideVideo","slideContainer","videoID","videoPlayers","getAllPlayers","videoWrapper","plyr","css","provider","videoProvider","customPlaceholder","js","html","placeholder","playerConfig","player","Plyr","detail","dataset","ready","resize","handleMediaFullScreen","slideInline","hash","pop","trim","content","innerContent","div","cloned","cloneNode","slideIframe","SlideConfigParser","slideParamas","defaults","descPosition","effect","zoomable","draggable","sourceType","origin","parseConfig","objectData","setSize","val","nodeData","sanitizeValue","cleanKeys","join","str","regex","RegExp","replace","substring","DOMException","nodeDesc","slideConfig","defaultWith","checkSize","videosWidth","defaultHeight","Slide","setContent","isMobileDevice","beforeSlideLoad","position","slideTitle","slideText","slideDesc","finalCallback","afterSlideLoad","getSlidePlayerInstance","removeChild","id","moreLength","smallDescription","slideShortDesc","moreText","descriptionEvents","dragToleranceX","dragToleranceY","offsetWidth","string","wordBoundary","cleanedString","innerText","useWordBoundary","subString","substr","moreLink","shortEvent","create","slideHTML","getConfig","parser","slideExtraAttributes","_version","isMobile$1","isTouch$1","skin","theme","closeButton","startAt","autoplayVideos","autofocusVideos","beforeSlideChange","afterSlideChange","slideInserted","slideRemoved","onOpen","onClose","loop","preload","oneSlidePerOpen","closeOnOutsideClick","plugins","ratio","fullscreen","enabled","iosNative","youtube","noCookie","showinfo","iv_load_policy","vimeo","byline","portrait","transparent","openEffect","closeEffect","slideEffect","cssEfects","fade","out","slideBack","none","svg","next","prev","lightboxHTML","GlightboxInit","options","customOptions","effectsClasses","getAnimationClasses","apiEvents","fullElementsList","init","getSelector","baseEvents","open","getElements","prevActiveSlideIndex","prevActiveSlide","gallery","getGalleryElements","getElementIndex","build","scrollBar","styleSheet","showSlide","prevButton","nextButton","lightboxOpen","trigger","openAt","loader","slidesContainer","slideAnimateOut","slideNode","slideAnimateIn","slideData","slideIndex","slideDescription","slideDescriptionContained","preloadSlide","updateNavigationClasses","_this3","goToSlide","insertSlide","slideInfo","newSlide","totalSlides","addedSlideNode","addedSlidePlayer","existingSlide","removeSlide","getActiveSlideIndex","_this4","prevData","nextData","slidePlayerPlay","effectName","animIn","animOut","slidePlayerPause","stopSlideVideo","playing","pause","playSlideVideo","play","_this$settings$plyr$c","muted","setElements","_this5","newElements","_this6","list","elData","nodes","getActiveSlide","effects","_this7","built","children","childNodes","bodyChildElms","charAt","hasAttribute","nextSVG","prevSVG","closeSVG","modal","bodyHiddenChildElms","video","image","descriptionResize","imgNode","descHeight","_imgNode","containerWidth","containerHeight","divisor","videoRatio","videoWidth","floor","vwidth","vheight","_ratio","vsize","reload","loopAtEnd","_this8","closing","removeAttribute","_key","styles","clearAllEvents","_this9","onceTriggered","version","glightbox"],"sources":["C:/Users/elena/Downloads/mern/client/src/components/vendor/glightbox/js/glightbox.js"],"sourcesContent":["(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = global || self, global.GLightbox = factory());\n}(this, (function () { 'use strict';\n\n  function _typeof(obj) {\n    \"@babel/helpers - typeof\";\n\n    if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n      _typeof = function (obj) {\n        return typeof obj;\n      };\n    } else {\n      _typeof = function (obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n      };\n    }\n\n    return _typeof(obj);\n  }\n\n  function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  }\n\n  function _defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  function _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    return Constructor;\n  }\n\n  var uid = Date.now();\n  function extend() {\n    var extended = {};\n    var deep = true;\n    var i = 0;\n    var length = arguments.length;\n\n    if (Object.prototype.toString.call(arguments[0]) === '[object Boolean]') {\n      deep = arguments[0];\n      i++;\n    }\n\n    var merge = function merge(obj) {\n      for (var prop in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, prop)) {\n          if (deep && Object.prototype.toString.call(obj[prop]) === '[object Object]') {\n            extended[prop] = extend(true, extended[prop], obj[prop]);\n          } else {\n            extended[prop] = obj[prop];\n          }\n        }\n      }\n    };\n\n    for (; i < length; i++) {\n      var obj = arguments[i];\n      merge(obj);\n    }\n\n    return extended;\n  }\n  function each(collection, callback) {\n    if (isNode(collection) || collection === window || collection === document) {\n      collection = [collection];\n    }\n\n    if (!isArrayLike(collection) && !isObject(collection)) {\n      collection = [collection];\n    }\n\n    if (size(collection) == 0) {\n      return;\n    }\n\n    if (isArrayLike(collection) && !isObject(collection)) {\n      var l = collection.length,\n          i = 0;\n\n      for (; i < l; i++) {\n        if (callback.call(collection[i], collection[i], i, collection) === false) {\n          break;\n        }\n      }\n    } else if (isObject(collection)) {\n      for (var key in collection) {\n        if (has(collection, key)) {\n          if (callback.call(collection[key], collection[key], key, collection) === false) {\n            break;\n          }\n        }\n      }\n    }\n  }\n  function getNodeEvents(node) {\n    var name = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n    var fn = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n    var cache = node[uid] = node[uid] || [];\n    var data = {\n      all: cache,\n      evt: null,\n      found: null\n    };\n\n    if (name && fn && size(cache) > 0) {\n      each(cache, function (cl, i) {\n        if (cl.eventName == name && cl.fn.toString() == fn.toString()) {\n          data.found = true;\n          data.evt = i;\n          return false;\n        }\n      });\n    }\n\n    return data;\n  }\n  function addEvent(eventName) {\n    var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n        onElement = _ref.onElement,\n        withCallback = _ref.withCallback,\n        _ref$avoidDuplicate = _ref.avoidDuplicate,\n        avoidDuplicate = _ref$avoidDuplicate === void 0 ? true : _ref$avoidDuplicate,\n        _ref$once = _ref.once,\n        once = _ref$once === void 0 ? false : _ref$once,\n        _ref$useCapture = _ref.useCapture,\n        useCapture = _ref$useCapture === void 0 ? false : _ref$useCapture;\n\n    var thisArg = arguments.length > 2 ? arguments[2] : undefined;\n    var element = onElement || [];\n\n    if (isString(element)) {\n      element = document.querySelectorAll(element);\n    }\n\n    function handler(event) {\n      if (isFunction(withCallback)) {\n        withCallback.call(thisArg, event, this);\n      }\n\n      if (once) {\n        handler.destroy();\n      }\n    }\n\n    handler.destroy = function () {\n      each(element, function (el) {\n        var events = getNodeEvents(el, eventName, handler);\n\n        if (events.found) {\n          events.all.splice(events.evt, 1);\n        }\n\n        if (el.removeEventListener) {\n          el.removeEventListener(eventName, handler, useCapture);\n        }\n      });\n    };\n\n    each(element, function (el) {\n      var events = getNodeEvents(el, eventName, handler);\n\n      if (el.addEventListener && avoidDuplicate && !events.found || !avoidDuplicate) {\n        el.addEventListener(eventName, handler, useCapture);\n        events.all.push({\n          eventName: eventName,\n          fn: handler\n        });\n      }\n    });\n    return handler;\n  }\n  function addClass(node, name) {\n    each(name.split(' '), function (cl) {\n      return node.classList.add(cl);\n    });\n  }\n  function removeClass(node, name) {\n    each(name.split(' '), function (cl) {\n      return node.classList.remove(cl);\n    });\n  }\n  function hasClass(node, name) {\n    return node.classList.contains(name);\n  }\n  function closest(elem, selector) {\n    while (elem !== document.body) {\n      elem = elem.parentElement;\n\n      if (!elem) {\n        return false;\n      }\n\n      var matches = typeof elem.matches == 'function' ? elem.matches(selector) : elem.msMatchesSelector(selector);\n\n      if (matches) {\n        return elem;\n      }\n    }\n  }\n  function animateElement(element) {\n    var animation = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n    var callback = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n    if (!element || animation === '') {\n      return false;\n    }\n\n    if (animation === 'none') {\n      if (isFunction(callback)) {\n        callback();\n      }\n\n      return false;\n    }\n\n    var animationEnd = whichAnimationEvent();\n    var animationNames = animation.split(' ');\n    each(animationNames, function (name) {\n      addClass(element, 'g' + name);\n    });\n    addEvent(animationEnd, {\n      onElement: element,\n      avoidDuplicate: false,\n      once: true,\n      withCallback: function withCallback(event, target) {\n        each(animationNames, function (name) {\n          removeClass(target, 'g' + name);\n        });\n\n        if (isFunction(callback)) {\n          callback();\n        }\n      }\n    });\n  }\n  function cssTransform(node) {\n    var translate = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n\n    if (translate === '') {\n      node.style.webkitTransform = '';\n      node.style.MozTransform = '';\n      node.style.msTransform = '';\n      node.style.OTransform = '';\n      node.style.transform = '';\n      return false;\n    }\n\n    node.style.webkitTransform = translate;\n    node.style.MozTransform = translate;\n    node.style.msTransform = translate;\n    node.style.OTransform = translate;\n    node.style.transform = translate;\n  }\n  function show(element) {\n    element.style.display = 'block';\n  }\n  function hide(element) {\n    element.style.display = 'none';\n  }\n  function createHTML(htmlStr) {\n    var frag = document.createDocumentFragment(),\n        temp = document.createElement('div');\n    temp.innerHTML = htmlStr;\n\n    while (temp.firstChild) {\n      frag.appendChild(temp.firstChild);\n    }\n\n    return frag;\n  }\n  function windowSize() {\n    return {\n      width: window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth,\n      height: window.innerHeight || document.documentElement.clientHeight || document.body.clientHeight\n    };\n  }\n  function whichAnimationEvent() {\n    var t,\n        el = document.createElement('fakeelement');\n    var animations = {\n      animation: 'animationend',\n      OAnimation: 'oAnimationEnd',\n      MozAnimation: 'animationend',\n      WebkitAnimation: 'webkitAnimationEnd'\n    };\n\n    for (t in animations) {\n      if (el.style[t] !== undefined) {\n        return animations[t];\n      }\n    }\n  }\n  function whichTransitionEvent() {\n    var t,\n        el = document.createElement('fakeelement');\n    var transitions = {\n      transition: 'transitionend',\n      OTransition: 'oTransitionEnd',\n      MozTransition: 'transitionend',\n      WebkitTransition: 'webkitTransitionEnd'\n    };\n\n    for (t in transitions) {\n      if (el.style[t] !== undefined) {\n        return transitions[t];\n      }\n    }\n  }\n  function createIframe(config) {\n    var url = config.url,\n        allow = config.allow,\n        callback = config.callback,\n        appendTo = config.appendTo;\n    var iframe = document.createElement('iframe');\n    iframe.className = 'vimeo-video gvideo';\n    iframe.src = url;\n    iframe.style.width = '100%';\n    iframe.style.height = '100%';\n\n    if (allow) {\n      iframe.setAttribute('allow', allow);\n    }\n\n    iframe.onload = function () {\n      iframe.onload = null;\n      addClass(iframe, 'node-ready');\n\n      if (isFunction(callback)) {\n        callback();\n      }\n    };\n\n    if (appendTo) {\n      appendTo.appendChild(iframe);\n    }\n\n    return iframe;\n  }\n  function waitUntil(check, onComplete, delay, timeout) {\n    if (check()) {\n      onComplete();\n      return;\n    }\n\n    if (!delay) {\n      delay = 100;\n    }\n\n    var timeoutPointer;\n    var intervalPointer = setInterval(function () {\n      if (!check()) {\n        return;\n      }\n\n      clearInterval(intervalPointer);\n\n      if (timeoutPointer) {\n        clearTimeout(timeoutPointer);\n      }\n\n      onComplete();\n    }, delay);\n\n    if (timeout) {\n      timeoutPointer = setTimeout(function () {\n        clearInterval(intervalPointer);\n      }, timeout);\n    }\n  }\n  function injectAssets(url, waitFor, callback) {\n    if (isNil(url)) {\n      console.error('Inject assets error');\n      return;\n    }\n\n    if (isFunction(waitFor)) {\n      callback = waitFor;\n      waitFor = false;\n    }\n\n    if (isString(waitFor) && waitFor in window) {\n      if (isFunction(callback)) {\n        callback();\n      }\n\n      return;\n    }\n\n    var found;\n\n    if (url.indexOf('.css') !== -1) {\n      found = document.querySelectorAll('link[href=\"' + url + '\"]');\n\n      if (found && found.length > 0) {\n        if (isFunction(callback)) {\n          callback();\n        }\n\n        return;\n      }\n\n      var head = document.getElementsByTagName('head')[0];\n      var headStyles = head.querySelectorAll('link[rel=\"stylesheet\"]');\n      var link = document.createElement('link');\n      link.rel = 'stylesheet';\n      link.type = 'text/css';\n      link.href = url;\n      link.media = 'all';\n\n      if (headStyles) {\n        head.insertBefore(link, headStyles[0]);\n      } else {\n        head.appendChild(link);\n      }\n\n      if (isFunction(callback)) {\n        callback();\n      }\n\n      return;\n    }\n\n    found = document.querySelectorAll('script[src=\"' + url + '\"]');\n\n    if (found && found.length > 0) {\n      if (isFunction(callback)) {\n        if (isString(waitFor)) {\n          waitUntil(function () {\n            return typeof window[waitFor] !== 'undefined';\n          }, function () {\n            callback();\n          });\n          return false;\n        }\n\n        callback();\n      }\n\n      return;\n    }\n\n    var script = document.createElement('script');\n    script.type = 'text/javascript';\n    script.src = url;\n\n    script.onload = function () {\n      if (isFunction(callback)) {\n        if (isString(waitFor)) {\n          waitUntil(function () {\n            return typeof window[waitFor] !== 'undefined';\n          }, function () {\n            callback();\n          });\n          return false;\n        }\n\n        callback();\n      }\n    };\n\n    document.body.appendChild(script);\n  }\n  function isMobile() {\n    return 'navigator' in window && window.navigator.userAgent.match(/(iPad)|(iPhone)|(iPod)|(Android)|(PlayBook)|(BB10)|(BlackBerry)|(Opera Mini)|(IEMobile)|(webOS)|(MeeGo)/i);\n  }\n  function isTouch() {\n    return isMobile() !== null || document.createTouch !== undefined || 'ontouchstart' in window || 'onmsgesturechange' in window || navigator.msMaxTouchPoints;\n  }\n  function isFunction(f) {\n    return typeof f === 'function';\n  }\n  function isString(s) {\n    return typeof s === 'string';\n  }\n  function isNode(el) {\n    return !!(el && el.nodeType && el.nodeType == 1);\n  }\n  function isArray(ar) {\n    return Array.isArray(ar);\n  }\n  function isArrayLike(ar) {\n    return ar && ar.length && isFinite(ar.length);\n  }\n  function isObject(o) {\n    var type = _typeof(o);\n\n    return type === 'object' && o != null && !isFunction(o) && !isArray(o);\n  }\n  function isNil(o) {\n    return o == null;\n  }\n  function has(obj, key) {\n    return obj !== null && hasOwnProperty.call(obj, key);\n  }\n  function size(o) {\n    if (isObject(o)) {\n      if (o.keys) {\n        return o.keys().length;\n      }\n\n      var l = 0;\n\n      for (var k in o) {\n        if (has(o, k)) {\n          l++;\n        }\n      }\n\n      return l;\n    } else {\n      return o.length;\n    }\n  }\n  function isNumber(n) {\n    return !isNaN(parseFloat(n)) && isFinite(n);\n  }\n\n  function getNextFocusElement() {\n    var current = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : -1;\n    var btns = document.querySelectorAll('.gbtn[data-taborder]:not(.disabled)');\n\n    if (!btns.length) {\n      return false;\n    }\n\n    if (btns.length == 1) {\n      return btns[0];\n    }\n\n    if (typeof current == 'string') {\n      current = parseInt(current);\n    }\n\n    var orders = [];\n    each(btns, function (btn) {\n      orders.push(btn.getAttribute('data-taborder'));\n    });\n    var highestOrder = Math.max.apply(Math, orders.map(function (order) {\n      return parseInt(order);\n    }));\n    var newIndex = current < 0 ? 1 : current + 1;\n\n    if (newIndex > highestOrder) {\n      newIndex = '1';\n    }\n\n    var nextOrders = orders.filter(function (el) {\n      return el >= parseInt(newIndex);\n    });\n    var nextFocus = nextOrders.sort()[0];\n    return document.querySelector(\".gbtn[data-taborder=\\\"\".concat(nextFocus, \"\\\"]\"));\n  }\n\n  function keyboardNavigation(instance) {\n    if (instance.events.hasOwnProperty('keyboard')) {\n      return false;\n    }\n\n    instance.events['keyboard'] = addEvent('keydown', {\n      onElement: window,\n      withCallback: function withCallback(event, target) {\n        event = event || window.event;\n        var key = event.keyCode;\n\n        if (key == 9) {\n          var focusedButton = document.querySelector('.gbtn.focused');\n\n          if (!focusedButton) {\n            var activeElement = document.activeElement && document.activeElement.nodeName ? document.activeElement.nodeName.toLocaleLowerCase() : false;\n\n            if (activeElement == 'input' || activeElement == 'textarea' || activeElement == 'button') {\n              return;\n            }\n          }\n\n          event.preventDefault();\n          var btns = document.querySelectorAll('.gbtn[data-taborder]');\n\n          if (!btns || btns.length <= 0) {\n            return;\n          }\n\n          if (!focusedButton) {\n            var first = getNextFocusElement();\n\n            if (first) {\n              first.focus();\n              addClass(first, 'focused');\n            }\n\n            return;\n          }\n\n          var currentFocusOrder = focusedButton.getAttribute('data-taborder');\n          var nextFocus = getNextFocusElement(currentFocusOrder);\n          removeClass(focusedButton, 'focused');\n\n          if (nextFocus) {\n            nextFocus.focus();\n            addClass(nextFocus, 'focused');\n          }\n        }\n\n        if (key == 39) {\n          instance.nextSlide();\n        }\n\n        if (key == 37) {\n          instance.prevSlide();\n        }\n\n        if (key == 27) {\n          instance.close();\n        }\n      }\n    });\n  }\n\n  function getLen(v) {\n    return Math.sqrt(v.x * v.x + v.y * v.y);\n  }\n\n  function dot(v1, v2) {\n    return v1.x * v2.x + v1.y * v2.y;\n  }\n\n  function getAngle(v1, v2) {\n    var mr = getLen(v1) * getLen(v2);\n\n    if (mr === 0) {\n      return 0;\n    }\n\n    var r = dot(v1, v2) / mr;\n\n    if (r > 1) {\n      r = 1;\n    }\n\n    return Math.acos(r);\n  }\n\n  function cross(v1, v2) {\n    return v1.x * v2.y - v2.x * v1.y;\n  }\n\n  function getRotateAngle(v1, v2) {\n    var angle = getAngle(v1, v2);\n\n    if (cross(v1, v2) > 0) {\n      angle *= -1;\n    }\n\n    return angle * 180 / Math.PI;\n  }\n\n  var EventsHandlerAdmin = function () {\n    function EventsHandlerAdmin(el) {\n      _classCallCheck(this, EventsHandlerAdmin);\n\n      this.handlers = [];\n      this.el = el;\n    }\n\n    _createClass(EventsHandlerAdmin, [{\n      key: \"add\",\n      value: function add(handler) {\n        this.handlers.push(handler);\n      }\n    }, {\n      key: \"del\",\n      value: function del(handler) {\n        if (!handler) {\n          this.handlers = [];\n        }\n\n        for (var i = this.handlers.length; i >= 0; i--) {\n          if (this.handlers[i] === handler) {\n            this.handlers.splice(i, 1);\n          }\n        }\n      }\n    }, {\n      key: \"dispatch\",\n      value: function dispatch() {\n        for (var i = 0, len = this.handlers.length; i < len; i++) {\n          var handler = this.handlers[i];\n\n          if (typeof handler === 'function') {\n            handler.apply(this.el, arguments);\n          }\n        }\n      }\n    }]);\n\n    return EventsHandlerAdmin;\n  }();\n\n  function wrapFunc(el, handler) {\n    var EventshandlerAdmin = new EventsHandlerAdmin(el);\n    EventshandlerAdmin.add(handler);\n    return EventshandlerAdmin;\n  }\n\n  var TouchEvents = function () {\n    function TouchEvents(el, option) {\n      _classCallCheck(this, TouchEvents);\n\n      this.element = typeof el == 'string' ? document.querySelector(el) : el;\n      this.start = this.start.bind(this);\n      this.move = this.move.bind(this);\n      this.end = this.end.bind(this);\n      this.cancel = this.cancel.bind(this);\n      this.element.addEventListener('touchstart', this.start, false);\n      this.element.addEventListener('touchmove', this.move, false);\n      this.element.addEventListener('touchend', this.end, false);\n      this.element.addEventListener('touchcancel', this.cancel, false);\n      this.preV = {\n        x: null,\n        y: null\n      };\n      this.pinchStartLen = null;\n      this.zoom = 1;\n      this.isDoubleTap = false;\n\n      var noop = function noop() {};\n\n      this.rotate = wrapFunc(this.element, option.rotate || noop);\n      this.touchStart = wrapFunc(this.element, option.touchStart || noop);\n      this.multipointStart = wrapFunc(this.element, option.multipointStart || noop);\n      this.multipointEnd = wrapFunc(this.element, option.multipointEnd || noop);\n      this.pinch = wrapFunc(this.element, option.pinch || noop);\n      this.swipe = wrapFunc(this.element, option.swipe || noop);\n      this.tap = wrapFunc(this.element, option.tap || noop);\n      this.doubleTap = wrapFunc(this.element, option.doubleTap || noop);\n      this.longTap = wrapFunc(this.element, option.longTap || noop);\n      this.singleTap = wrapFunc(this.element, option.singleTap || noop);\n      this.pressMove = wrapFunc(this.element, option.pressMove || noop);\n      this.twoFingerPressMove = wrapFunc(this.element, option.twoFingerPressMove || noop);\n      this.touchMove = wrapFunc(this.element, option.touchMove || noop);\n      this.touchEnd = wrapFunc(this.element, option.touchEnd || noop);\n      this.touchCancel = wrapFunc(this.element, option.touchCancel || noop);\n      this.translateContainer = this.element;\n      this._cancelAllHandler = this.cancelAll.bind(this);\n      window.addEventListener('scroll', this._cancelAllHandler);\n      this.delta = null;\n      this.last = null;\n      this.now = null;\n      this.tapTimeout = null;\n      this.singleTapTimeout = null;\n      this.longTapTimeout = null;\n      this.swipeTimeout = null;\n      this.x1 = this.x2 = this.y1 = this.y2 = null;\n      this.preTapPosition = {\n        x: null,\n        y: null\n      };\n    }\n\n    _createClass(TouchEvents, [{\n      key: \"start\",\n      value: function start(evt) {\n        if (!evt.touches) {\n          return;\n        }\n\n        var ignoreDragFor = ['a', 'button', 'input'];\n\n        if (evt.target && evt.target.nodeName && ignoreDragFor.indexOf(evt.target.nodeName.toLowerCase()) >= 0) {\n          console.log('ignore drag for this touched element', evt.target.nodeName.toLowerCase());\n          return;\n        }\n\n        this.now = Date.now();\n        this.x1 = evt.touches[0].pageX;\n        this.y1 = evt.touches[0].pageY;\n        this.delta = this.now - (this.last || this.now);\n        this.touchStart.dispatch(evt, this.element);\n\n        if (this.preTapPosition.x !== null) {\n          this.isDoubleTap = this.delta > 0 && this.delta <= 250 && Math.abs(this.preTapPosition.x - this.x1) < 30 && Math.abs(this.preTapPosition.y - this.y1) < 30;\n\n          if (this.isDoubleTap) {\n            clearTimeout(this.singleTapTimeout);\n          }\n        }\n\n        this.preTapPosition.x = this.x1;\n        this.preTapPosition.y = this.y1;\n        this.last = this.now;\n        var preV = this.preV,\n            len = evt.touches.length;\n\n        if (len > 1) {\n          this._cancelLongTap();\n\n          this._cancelSingleTap();\n\n          var v = {\n            x: evt.touches[1].pageX - this.x1,\n            y: evt.touches[1].pageY - this.y1\n          };\n          preV.x = v.x;\n          preV.y = v.y;\n          this.pinchStartLen = getLen(preV);\n          this.multipointStart.dispatch(evt, this.element);\n        }\n\n        this._preventTap = false;\n        this.longTapTimeout = setTimeout(function () {\n          this.longTap.dispatch(evt, this.element);\n          this._preventTap = true;\n        }.bind(this), 750);\n      }\n    }, {\n      key: \"move\",\n      value: function move(evt) {\n        if (!evt.touches) {\n          return;\n        }\n\n        var preV = this.preV,\n            len = evt.touches.length,\n            currentX = evt.touches[0].pageX,\n            currentY = evt.touches[0].pageY;\n        this.isDoubleTap = false;\n\n        if (len > 1) {\n          var sCurrentX = evt.touches[1].pageX,\n              sCurrentY = evt.touches[1].pageY;\n          var v = {\n            x: evt.touches[1].pageX - currentX,\n            y: evt.touches[1].pageY - currentY\n          };\n\n          if (preV.x !== null) {\n            if (this.pinchStartLen > 0) {\n              evt.zoom = getLen(v) / this.pinchStartLen;\n              this.pinch.dispatch(evt, this.element);\n            }\n\n            evt.angle = getRotateAngle(v, preV);\n            this.rotate.dispatch(evt, this.element);\n          }\n\n          preV.x = v.x;\n          preV.y = v.y;\n\n          if (this.x2 !== null && this.sx2 !== null) {\n            evt.deltaX = (currentX - this.x2 + sCurrentX - this.sx2) / 2;\n            evt.deltaY = (currentY - this.y2 + sCurrentY - this.sy2) / 2;\n          } else {\n            evt.deltaX = 0;\n            evt.deltaY = 0;\n          }\n\n          this.twoFingerPressMove.dispatch(evt, this.element);\n          this.sx2 = sCurrentX;\n          this.sy2 = sCurrentY;\n        } else {\n          if (this.x2 !== null) {\n            evt.deltaX = currentX - this.x2;\n            evt.deltaY = currentY - this.y2;\n            var movedX = Math.abs(this.x1 - this.x2),\n                movedY = Math.abs(this.y1 - this.y2);\n\n            if (movedX > 10 || movedY > 10) {\n              this._preventTap = true;\n            }\n          } else {\n            evt.deltaX = 0;\n            evt.deltaY = 0;\n          }\n\n          this.pressMove.dispatch(evt, this.element);\n        }\n\n        this.touchMove.dispatch(evt, this.element);\n\n        this._cancelLongTap();\n\n        this.x2 = currentX;\n        this.y2 = currentY;\n\n        if (len > 1) {\n          evt.preventDefault();\n        }\n      }\n    }, {\n      key: \"end\",\n      value: function end(evt) {\n        if (!evt.changedTouches) {\n          return;\n        }\n\n        this._cancelLongTap();\n\n        var self = this;\n\n        if (evt.touches.length < 2) {\n          this.multipointEnd.dispatch(evt, this.element);\n          this.sx2 = this.sy2 = null;\n        }\n\n        if (this.x2 && Math.abs(this.x1 - this.x2) > 30 || this.y2 && Math.abs(this.y1 - this.y2) > 30) {\n          evt.direction = this._swipeDirection(this.x1, this.x2, this.y1, this.y2);\n          this.swipeTimeout = setTimeout(function () {\n            self.swipe.dispatch(evt, self.element);\n          }, 0);\n        } else {\n          this.tapTimeout = setTimeout(function () {\n            if (!self._preventTap) {\n              self.tap.dispatch(evt, self.element);\n            }\n\n            if (self.isDoubleTap) {\n              self.doubleTap.dispatch(evt, self.element);\n              self.isDoubleTap = false;\n            }\n          }, 0);\n\n          if (!self.isDoubleTap) {\n            self.singleTapTimeout = setTimeout(function () {\n              self.singleTap.dispatch(evt, self.element);\n            }, 250);\n          }\n        }\n\n        this.touchEnd.dispatch(evt, this.element);\n        this.preV.x = 0;\n        this.preV.y = 0;\n        this.zoom = 1;\n        this.pinchStartLen = null;\n        this.x1 = this.x2 = this.y1 = this.y2 = null;\n      }\n    }, {\n      key: \"cancelAll\",\n      value: function cancelAll() {\n        this._preventTap = true;\n        clearTimeout(this.singleTapTimeout);\n        clearTimeout(this.tapTimeout);\n        clearTimeout(this.longTapTimeout);\n        clearTimeout(this.swipeTimeout);\n      }\n    }, {\n      key: \"cancel\",\n      value: function cancel(evt) {\n        this.cancelAll();\n        this.touchCancel.dispatch(evt, this.element);\n      }\n    }, {\n      key: \"_cancelLongTap\",\n      value: function _cancelLongTap() {\n        clearTimeout(this.longTapTimeout);\n      }\n    }, {\n      key: \"_cancelSingleTap\",\n      value: function _cancelSingleTap() {\n        clearTimeout(this.singleTapTimeout);\n      }\n    }, {\n      key: \"_swipeDirection\",\n      value: function _swipeDirection(x1, x2, y1, y2) {\n        return Math.abs(x1 - x2) >= Math.abs(y1 - y2) ? x1 - x2 > 0 ? 'Left' : 'Right' : y1 - y2 > 0 ? 'Up' : 'Down';\n      }\n    }, {\n      key: \"on\",\n      value: function on(evt, handler) {\n        if (this[evt]) {\n          this[evt].add(handler);\n        }\n      }\n    }, {\n      key: \"off\",\n      value: function off(evt, handler) {\n        if (this[evt]) {\n          this[evt].del(handler);\n        }\n      }\n    }, {\n      key: \"destroy\",\n      value: function destroy() {\n        if (this.singleTapTimeout) {\n          clearTimeout(this.singleTapTimeout);\n        }\n\n        if (this.tapTimeout) {\n          clearTimeout(this.tapTimeout);\n        }\n\n        if (this.longTapTimeout) {\n          clearTimeout(this.longTapTimeout);\n        }\n\n        if (this.swipeTimeout) {\n          clearTimeout(this.swipeTimeout);\n        }\n\n        this.element.removeEventListener('touchstart', this.start);\n        this.element.removeEventListener('touchmove', this.move);\n        this.element.removeEventListener('touchend', this.end);\n        this.element.removeEventListener('touchcancel', this.cancel);\n        this.rotate.del();\n        this.touchStart.del();\n        this.multipointStart.del();\n        this.multipointEnd.del();\n        this.pinch.del();\n        this.swipe.del();\n        this.tap.del();\n        this.doubleTap.del();\n        this.longTap.del();\n        this.singleTap.del();\n        this.pressMove.del();\n        this.twoFingerPressMove.del();\n        this.touchMove.del();\n        this.touchEnd.del();\n        this.touchCancel.del();\n        this.preV = this.pinchStartLen = this.zoom = this.isDoubleTap = this.delta = this.last = this.now = this.tapTimeout = this.singleTapTimeout = this.longTapTimeout = this.swipeTimeout = this.x1 = this.x2 = this.y1 = this.y2 = this.preTapPosition = this.rotate = this.touchStart = this.multipointStart = this.multipointEnd = this.pinch = this.swipe = this.tap = this.doubleTap = this.longTap = this.singleTap = this.pressMove = this.touchMove = this.touchEnd = this.touchCancel = this.twoFingerPressMove = null;\n        window.removeEventListener('scroll', this._cancelAllHandler);\n        return null;\n      }\n    }]);\n\n    return TouchEvents;\n  }();\n\n  function resetSlideMove(slide) {\n    var transitionEnd = whichTransitionEvent();\n    var windowWidth = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth;\n    var media = hasClass(slide, 'gslide-media') ? slide : slide.querySelector('.gslide-media');\n    var container = closest(media, '.ginner-container');\n    var desc = slide.querySelector('.gslide-description');\n\n    if (windowWidth > 769) {\n      media = container;\n    }\n\n    addClass(media, 'greset');\n    cssTransform(media, 'translate3d(0, 0, 0)');\n    addEvent(transitionEnd, {\n      onElement: media,\n      once: true,\n      withCallback: function withCallback(event, target) {\n        removeClass(media, 'greset');\n      }\n    });\n    media.style.opacity = '';\n\n    if (desc) {\n      desc.style.opacity = '';\n    }\n  }\n\n  function touchNavigation(instance) {\n    if (instance.events.hasOwnProperty('touch')) {\n      return false;\n    }\n\n    var winSize = windowSize();\n    var winWidth = winSize.width;\n    var winHeight = winSize.height;\n    var process = false;\n    var currentSlide = null;\n    var media = null;\n    var mediaImage = null;\n    var doingMove = false;\n    var initScale = 1;\n    var maxScale = 4.5;\n    var currentScale = 1;\n    var doingZoom = false;\n    var imageZoomed = false;\n    var zoomedPosX = null;\n    var zoomedPosY = null;\n    var lastZoomedPosX = null;\n    var lastZoomedPosY = null;\n    var hDistance;\n    var vDistance;\n    var hDistancePercent = 0;\n    var vDistancePercent = 0;\n    var vSwipe = false;\n    var hSwipe = false;\n    var startCoords = {};\n    var endCoords = {};\n    var xDown = 0;\n    var yDown = 0;\n    var isInlined;\n    var sliderWrapper = document.getElementById('glightbox-slider');\n    var overlay = document.querySelector('.goverlay');\n    var touchInstance = new TouchEvents(sliderWrapper, {\n      touchStart: function touchStart(e) {\n        process = true;\n\n        if (hasClass(e.targetTouches[0].target, 'ginner-container') || closest(e.targetTouches[0].target, '.gslide-desc') || e.targetTouches[0].target.nodeName.toLowerCase() == 'a') {\n          process = false;\n        }\n\n        if (closest(e.targetTouches[0].target, '.gslide-inline') && !hasClass(e.targetTouches[0].target.parentNode, 'gslide-inline')) {\n          process = false;\n        }\n\n        if (process) {\n          endCoords = e.targetTouches[0];\n          startCoords.pageX = e.targetTouches[0].pageX;\n          startCoords.pageY = e.targetTouches[0].pageY;\n          xDown = e.targetTouches[0].clientX;\n          yDown = e.targetTouches[0].clientY;\n          currentSlide = instance.activeSlide;\n          media = currentSlide.querySelector('.gslide-media');\n          isInlined = currentSlide.querySelector('.gslide-inline');\n          mediaImage = null;\n\n          if (hasClass(media, 'gslide-image')) {\n            mediaImage = media.querySelector('img');\n          }\n\n          var windowWidth = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth;\n\n          if (windowWidth > 769) {\n            media = currentSlide.querySelector('.ginner-container');\n          }\n\n          removeClass(overlay, 'greset');\n\n          if (e.pageX > 20 && e.pageX < window.innerWidth - 20) {\n            return;\n          }\n\n          e.preventDefault();\n        }\n      },\n      touchMove: function touchMove(e) {\n        if (!process) {\n          return;\n        }\n\n        endCoords = e.targetTouches[0];\n\n        if (doingZoom || imageZoomed) {\n          return;\n        }\n\n        if (isInlined && isInlined.offsetHeight > winHeight) {\n          var moved = startCoords.pageX - endCoords.pageX;\n\n          if (Math.abs(moved) <= 13) {\n            return false;\n          }\n        }\n\n        doingMove = true;\n        var xUp = e.targetTouches[0].clientX;\n        var yUp = e.targetTouches[0].clientY;\n        var xDiff = xDown - xUp;\n        var yDiff = yDown - yUp;\n\n        if (Math.abs(xDiff) > Math.abs(yDiff)) {\n          vSwipe = false;\n          hSwipe = true;\n        } else {\n          hSwipe = false;\n          vSwipe = true;\n        }\n\n        hDistance = endCoords.pageX - startCoords.pageX;\n        hDistancePercent = hDistance * 100 / winWidth;\n        vDistance = endCoords.pageY - startCoords.pageY;\n        vDistancePercent = vDistance * 100 / winHeight;\n        var opacity;\n\n        if (vSwipe && mediaImage) {\n          opacity = 1 - Math.abs(vDistance) / winHeight;\n          overlay.style.opacity = opacity;\n\n          if (instance.settings.touchFollowAxis) {\n            hDistancePercent = 0;\n          }\n        }\n\n        if (hSwipe) {\n          opacity = 1 - Math.abs(hDistance) / winWidth;\n          media.style.opacity = opacity;\n\n          if (instance.settings.touchFollowAxis) {\n            vDistancePercent = 0;\n          }\n        }\n\n        if (!mediaImage) {\n          return cssTransform(media, \"translate3d(\".concat(hDistancePercent, \"%, 0, 0)\"));\n        }\n\n        cssTransform(media, \"translate3d(\".concat(hDistancePercent, \"%, \").concat(vDistancePercent, \"%, 0)\"));\n      },\n      touchEnd: function touchEnd() {\n        if (!process) {\n          return;\n        }\n\n        doingMove = false;\n\n        if (imageZoomed || doingZoom) {\n          lastZoomedPosX = zoomedPosX;\n          lastZoomedPosY = zoomedPosY;\n          return;\n        }\n\n        var v = Math.abs(parseInt(vDistancePercent));\n        var h = Math.abs(parseInt(hDistancePercent));\n\n        if (v > 29 && mediaImage) {\n          instance.close();\n          return;\n        }\n\n        if (v < 29 && h < 25) {\n          addClass(overlay, 'greset');\n          overlay.style.opacity = 1;\n          return resetSlideMove(media);\n        }\n      },\n      multipointEnd: function multipointEnd() {\n        setTimeout(function () {\n          doingZoom = false;\n        }, 50);\n      },\n      multipointStart: function multipointStart() {\n        doingZoom = true;\n        initScale = currentScale ? currentScale : 1;\n      },\n      pinch: function pinch(evt) {\n        if (!mediaImage || doingMove) {\n          return false;\n        }\n\n        doingZoom = true;\n        mediaImage.scaleX = mediaImage.scaleY = initScale * evt.zoom;\n        var scale = initScale * evt.zoom;\n        imageZoomed = true;\n\n        if (scale <= 1) {\n          imageZoomed = false;\n          scale = 1;\n          lastZoomedPosY = null;\n          lastZoomedPosX = null;\n          zoomedPosX = null;\n          zoomedPosY = null;\n          mediaImage.setAttribute('style', '');\n          return;\n        }\n\n        if (scale > maxScale) {\n          scale = maxScale;\n        }\n\n        mediaImage.style.transform = \"scale3d(\".concat(scale, \", \").concat(scale, \", 1)\");\n        currentScale = scale;\n      },\n      pressMove: function pressMove(e) {\n        if (imageZoomed && !doingZoom) {\n          var mhDistance = endCoords.pageX - startCoords.pageX;\n          var mvDistance = endCoords.pageY - startCoords.pageY;\n\n          if (lastZoomedPosX) {\n            mhDistance = mhDistance + lastZoomedPosX;\n          }\n\n          if (lastZoomedPosY) {\n            mvDistance = mvDistance + lastZoomedPosY;\n          }\n\n          zoomedPosX = mhDistance;\n          zoomedPosY = mvDistance;\n          var style = \"translate3d(\".concat(mhDistance, \"px, \").concat(mvDistance, \"px, 0)\");\n\n          if (currentScale) {\n            style += \" scale3d(\".concat(currentScale, \", \").concat(currentScale, \", 1)\");\n          }\n\n          cssTransform(mediaImage, style);\n        }\n      },\n      swipe: function swipe(evt) {\n        if (imageZoomed) {\n          return;\n        }\n\n        if (doingZoom) {\n          doingZoom = false;\n          return;\n        }\n\n        if (evt.direction == 'Left') {\n          if (instance.index == instance.elements.length - 1) {\n            return resetSlideMove(media);\n          }\n\n          instance.nextSlide();\n        }\n\n        if (evt.direction == 'Right') {\n          if (instance.index == 0) {\n            return resetSlideMove(media);\n          }\n\n          instance.prevSlide();\n        }\n      }\n    });\n    instance.events['touch'] = touchInstance;\n  }\n\n  var ZoomImages = function () {\n    function ZoomImages(el, slide) {\n      var _this = this;\n\n      var onclose = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n\n      _classCallCheck(this, ZoomImages);\n\n      this.img = el;\n      this.slide = slide;\n      this.onclose = onclose;\n\n      if (this.img.setZoomEvents) {\n        return false;\n      }\n\n      this.active = false;\n      this.zoomedIn = false;\n      this.dragging = false;\n      this.currentX = null;\n      this.currentY = null;\n      this.initialX = null;\n      this.initialY = null;\n      this.xOffset = 0;\n      this.yOffset = 0;\n      this.img.addEventListener('mousedown', function (e) {\n        return _this.dragStart(e);\n      }, false);\n      this.img.addEventListener('mouseup', function (e) {\n        return _this.dragEnd(e);\n      }, false);\n      this.img.addEventListener('mousemove', function (e) {\n        return _this.drag(e);\n      }, false);\n      this.img.addEventListener('click', function (e) {\n        if (_this.slide.classList.contains('dragging-nav')) {\n          _this.zoomOut();\n\n          return false;\n        }\n\n        if (!_this.zoomedIn) {\n          return _this.zoomIn();\n        }\n\n        if (_this.zoomedIn && !_this.dragging) {\n          _this.zoomOut();\n        }\n      }, false);\n      this.img.setZoomEvents = true;\n    }\n\n    _createClass(ZoomImages, [{\n      key: \"zoomIn\",\n      value: function zoomIn() {\n        var winWidth = this.widowWidth();\n\n        if (this.zoomedIn || winWidth <= 768) {\n          return;\n        }\n\n        var img = this.img;\n        img.setAttribute('data-style', img.getAttribute('style'));\n        img.style.maxWidth = img.naturalWidth + 'px';\n        img.style.maxHeight = img.naturalHeight + 'px';\n\n        if (img.naturalWidth > winWidth) {\n          var centerX = winWidth / 2 - img.naturalWidth / 2;\n          this.setTranslate(this.img.parentNode, centerX, 0);\n        }\n\n        this.slide.classList.add('zoomed');\n        this.zoomedIn = true;\n      }\n    }, {\n      key: \"zoomOut\",\n      value: function zoomOut() {\n        this.img.parentNode.setAttribute('style', '');\n        this.img.setAttribute('style', this.img.getAttribute('data-style'));\n        this.slide.classList.remove('zoomed');\n        this.zoomedIn = false;\n        this.currentX = null;\n        this.currentY = null;\n        this.initialX = null;\n        this.initialY = null;\n        this.xOffset = 0;\n        this.yOffset = 0;\n\n        if (this.onclose && typeof this.onclose == 'function') {\n          this.onclose();\n        }\n      }\n    }, {\n      key: \"dragStart\",\n      value: function dragStart(e) {\n        e.preventDefault();\n\n        if (!this.zoomedIn) {\n          this.active = false;\n          return;\n        }\n\n        if (e.type === 'touchstart') {\n          this.initialX = e.touches[0].clientX - this.xOffset;\n          this.initialY = e.touches[0].clientY - this.yOffset;\n        } else {\n          this.initialX = e.clientX - this.xOffset;\n          this.initialY = e.clientY - this.yOffset;\n        }\n\n        if (e.target === this.img) {\n          this.active = true;\n          this.img.classList.add('dragging');\n        }\n      }\n    }, {\n      key: \"dragEnd\",\n      value: function dragEnd(e) {\n        var _this2 = this;\n\n        e.preventDefault();\n        this.initialX = this.currentX;\n        this.initialY = this.currentY;\n        this.active = false;\n        setTimeout(function () {\n          _this2.dragging = false;\n          _this2.img.isDragging = false;\n\n          _this2.img.classList.remove('dragging');\n        }, 100);\n      }\n    }, {\n      key: \"drag\",\n      value: function drag(e) {\n        if (this.active) {\n          e.preventDefault();\n\n          if (e.type === 'touchmove') {\n            this.currentX = e.touches[0].clientX - this.initialX;\n            this.currentY = e.touches[0].clientY - this.initialY;\n          } else {\n            this.currentX = e.clientX - this.initialX;\n            this.currentY = e.clientY - this.initialY;\n          }\n\n          this.xOffset = this.currentX;\n          this.yOffset = this.currentY;\n          this.img.isDragging = true;\n          this.dragging = true;\n          this.setTranslate(this.img, this.currentX, this.currentY);\n        }\n      }\n    }, {\n      key: \"onMove\",\n      value: function onMove(e) {\n        if (!this.zoomedIn) {\n          return;\n        }\n\n        var xOffset = e.clientX - this.img.naturalWidth / 2;\n        var yOffset = e.clientY - this.img.naturalHeight / 2;\n        this.setTranslate(this.img, xOffset, yOffset);\n      }\n    }, {\n      key: \"setTranslate\",\n      value: function setTranslate(node, xPos, yPos) {\n        node.style.transform = 'translate3d(' + xPos + 'px, ' + yPos + 'px, 0)';\n      }\n    }, {\n      key: \"widowWidth\",\n      value: function widowWidth() {\n        return window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth;\n      }\n    }]);\n\n    return ZoomImages;\n  }();\n\n  var DragSlides = function () {\n    function DragSlides() {\n      var _this = this;\n\n      var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      _classCallCheck(this, DragSlides);\n\n      var dragEl = config.dragEl,\n          _config$toleranceX = config.toleranceX,\n          toleranceX = _config$toleranceX === void 0 ? 40 : _config$toleranceX,\n          _config$toleranceY = config.toleranceY,\n          toleranceY = _config$toleranceY === void 0 ? 65 : _config$toleranceY,\n          _config$slide = config.slide,\n          slide = _config$slide === void 0 ? null : _config$slide,\n          _config$instance = config.instance,\n          instance = _config$instance === void 0 ? null : _config$instance;\n      this.el = dragEl;\n      this.active = false;\n      this.dragging = false;\n      this.currentX = null;\n      this.currentY = null;\n      this.initialX = null;\n      this.initialY = null;\n      this.xOffset = 0;\n      this.yOffset = 0;\n      this.direction = null;\n      this.lastDirection = null;\n      this.toleranceX = toleranceX;\n      this.toleranceY = toleranceY;\n      this.toleranceReached = false;\n      this.dragContainer = this.el;\n      this.slide = slide;\n      this.instance = instance;\n      this.el.addEventListener('mousedown', function (e) {\n        return _this.dragStart(e);\n      }, false);\n      this.el.addEventListener('mouseup', function (e) {\n        return _this.dragEnd(e);\n      }, false);\n      this.el.addEventListener('mousemove', function (e) {\n        return _this.drag(e);\n      }, false);\n    }\n\n    _createClass(DragSlides, [{\n      key: \"dragStart\",\n      value: function dragStart(e) {\n        if (this.slide.classList.contains('zoomed')) {\n          this.active = false;\n          return;\n        }\n\n        if (e.type === 'touchstart') {\n          this.initialX = e.touches[0].clientX - this.xOffset;\n          this.initialY = e.touches[0].clientY - this.yOffset;\n        } else {\n          this.initialX = e.clientX - this.xOffset;\n          this.initialY = e.clientY - this.yOffset;\n        }\n\n        var clicked = e.target.nodeName.toLowerCase();\n        var exludeClicks = ['input', 'select', 'textarea', 'button', 'a'];\n\n        if (e.target.classList.contains('nodrag') || closest(e.target, '.nodrag') || exludeClicks.indexOf(clicked) !== -1) {\n          this.active = false;\n          return;\n        }\n\n        e.preventDefault();\n\n        if (e.target === this.el || clicked !== 'img' && closest(e.target, '.gslide-inline')) {\n          this.active = true;\n          this.el.classList.add('dragging');\n          this.dragContainer = closest(e.target, '.ginner-container');\n        }\n      }\n    }, {\n      key: \"dragEnd\",\n      value: function dragEnd(e) {\n        var _this2 = this;\n\n        e && e.preventDefault();\n        this.initialX = 0;\n        this.initialY = 0;\n        this.currentX = null;\n        this.currentY = null;\n        this.initialX = null;\n        this.initialY = null;\n        this.xOffset = 0;\n        this.yOffset = 0;\n        this.active = false;\n\n        if (this.doSlideChange) {\n          this.instance.preventOutsideClick = true;\n          this.doSlideChange == 'right' && this.instance.prevSlide();\n          this.doSlideChange == 'left' && this.instance.nextSlide();\n        }\n\n        if (this.doSlideClose) {\n          this.instance.close();\n        }\n\n        if (!this.toleranceReached) {\n          this.setTranslate(this.dragContainer, 0, 0, true);\n        }\n\n        setTimeout(function () {\n          _this2.instance.preventOutsideClick = false;\n          _this2.toleranceReached = false;\n          _this2.lastDirection = null;\n          _this2.dragging = false;\n          _this2.el.isDragging = false;\n\n          _this2.el.classList.remove('dragging');\n\n          _this2.slide.classList.remove('dragging-nav');\n\n          _this2.dragContainer.style.transform = '';\n          _this2.dragContainer.style.transition = '';\n        }, 100);\n      }\n    }, {\n      key: \"drag\",\n      value: function drag(e) {\n        if (this.active) {\n          e.preventDefault();\n          this.slide.classList.add('dragging-nav');\n\n          if (e.type === 'touchmove') {\n            this.currentX = e.touches[0].clientX - this.initialX;\n            this.currentY = e.touches[0].clientY - this.initialY;\n          } else {\n            this.currentX = e.clientX - this.initialX;\n            this.currentY = e.clientY - this.initialY;\n          }\n\n          this.xOffset = this.currentX;\n          this.yOffset = this.currentY;\n          this.el.isDragging = true;\n          this.dragging = true;\n          this.doSlideChange = false;\n          this.doSlideClose = false;\n          var currentXInt = Math.abs(this.currentX);\n          var currentYInt = Math.abs(this.currentY);\n\n          if (currentXInt > 0 && currentXInt >= Math.abs(this.currentY) && (!this.lastDirection || this.lastDirection == 'x')) {\n            this.yOffset = 0;\n            this.lastDirection = 'x';\n            this.setTranslate(this.dragContainer, this.currentX, 0);\n            var doChange = this.shouldChange();\n\n            if (!this.instance.settings.dragAutoSnap && doChange) {\n              this.doSlideChange = doChange;\n            }\n\n            if (this.instance.settings.dragAutoSnap && doChange) {\n              this.instance.preventOutsideClick = true;\n              this.toleranceReached = true;\n              this.active = false;\n              this.instance.preventOutsideClick = true;\n              this.dragEnd(null);\n              doChange == 'right' && this.instance.prevSlide();\n              doChange == 'left' && this.instance.nextSlide();\n              return;\n            }\n          }\n\n          if (this.toleranceY > 0 && currentYInt > 0 && currentYInt >= currentXInt && (!this.lastDirection || this.lastDirection == 'y')) {\n            this.xOffset = 0;\n            this.lastDirection = 'y';\n            this.setTranslate(this.dragContainer, 0, this.currentY);\n            var doClose = this.shouldClose();\n\n            if (!this.instance.settings.dragAutoSnap && doClose) {\n              this.doSlideClose = true;\n            }\n\n            if (this.instance.settings.dragAutoSnap && doClose) {\n              this.instance.close();\n            }\n\n            return;\n          }\n        }\n      }\n    }, {\n      key: \"shouldChange\",\n      value: function shouldChange() {\n        var doChange = false;\n        var currentXInt = Math.abs(this.currentX);\n\n        if (currentXInt >= this.toleranceX) {\n          var dragDir = this.currentX > 0 ? 'right' : 'left';\n\n          if (dragDir == 'left' && this.slide !== this.slide.parentNode.lastChild || dragDir == 'right' && this.slide !== this.slide.parentNode.firstChild) {\n            doChange = dragDir;\n          }\n        }\n\n        return doChange;\n      }\n    }, {\n      key: \"shouldClose\",\n      value: function shouldClose() {\n        var doClose = false;\n        var currentYInt = Math.abs(this.currentY);\n\n        if (currentYInt >= this.toleranceY) {\n          doClose = true;\n        }\n\n        return doClose;\n      }\n    }, {\n      key: \"setTranslate\",\n      value: function setTranslate(node, xPos, yPos) {\n        var animated = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n\n        if (animated) {\n          node.style.transition = 'all .2s ease';\n        } else {\n          node.style.transition = '';\n        }\n\n        node.style.transform = \"translate3d(\".concat(xPos, \"px, \").concat(yPos, \"px, 0)\");\n      }\n    }]);\n\n    return DragSlides;\n  }();\n\n  function slideImage(slide, data, index, callback) {\n    var slideMedia = slide.querySelector('.gslide-media');\n    var img = new Image();\n    var titleID = 'gSlideTitle_' + index;\n    var textID = 'gSlideDesc_' + index;\n    img.addEventListener('load', function () {\n      if (isFunction(callback)) {\n        callback();\n      }\n    }, false);\n    img.src = data.href;\n\n    if (data.sizes != '' && data.srcset != '') {\n      img.sizes = data.sizes;\n      img.srcset = data.srcset;\n    }\n\n    img.alt = '';\n\n    if (!isNil(data.alt) && data.alt !== '') {\n      img.alt = data.alt;\n    }\n\n    if (data.title !== '') {\n      img.setAttribute('aria-labelledby', titleID);\n    }\n\n    if (data.description !== '') {\n      img.setAttribute('aria-describedby', textID);\n    }\n\n    if (data.hasOwnProperty('_hasCustomWidth') && data._hasCustomWidth) {\n      img.style.width = data.width;\n    }\n\n    if (data.hasOwnProperty('_hasCustomHeight') && data._hasCustomHeight) {\n      img.style.height = data.height;\n    }\n\n    slideMedia.insertBefore(img, slideMedia.firstChild);\n    return;\n  }\n\n  function slideVideo(slide, data, index, callback) {\n    var _this = this;\n\n    var slideContainer = slide.querySelector('.ginner-container');\n    var videoID = 'gvideo' + index;\n    var slideMedia = slide.querySelector('.gslide-media');\n    var videoPlayers = this.getAllPlayers();\n    addClass(slideContainer, 'gvideo-container');\n    slideMedia.insertBefore(createHTML('<div class=\"gvideo-wrapper\"></div>'), slideMedia.firstChild);\n    var videoWrapper = slide.querySelector('.gvideo-wrapper');\n    injectAssets(this.settings.plyr.css, 'Plyr');\n    var url = data.href;\n    var provider = data === null || data === void 0 ? void 0 : data.videoProvider;\n    var customPlaceholder = false;\n    slideMedia.style.maxWidth = data.width;\n    injectAssets(this.settings.plyr.js, 'Plyr', function () {\n      if (!provider && url.match(/vimeo\\.com\\/([0-9]*)/)) {\n        provider = 'vimeo';\n      }\n\n      if (!provider && (url.match(/(youtube\\.com|youtube-nocookie\\.com)\\/watch\\?v=([a-zA-Z0-9\\-_]+)/) || url.match(/youtu\\.be\\/([a-zA-Z0-9\\-_]+)/) || url.match(/(youtube\\.com|youtube-nocookie\\.com)\\/embed\\/([a-zA-Z0-9\\-_]+)/))) {\n        provider = 'youtube';\n      }\n\n      if (provider === 'local' || !provider) {\n        provider = 'local';\n        var html = '<video id=\"' + videoID + '\" ';\n        html += \"style=\\\"background:#000; max-width: \".concat(data.width, \";\\\" \");\n        html += 'preload=\"metadata\" ';\n        html += 'x-webkit-airplay=\"allow\" ';\n        html += 'playsinline ';\n        html += 'controls ';\n        html += 'class=\"gvideo-local\">';\n        html += \"<source src=\\\"\".concat(url, \"\\\">\");\n        html += '</video>';\n        customPlaceholder = createHTML(html);\n      }\n\n      var placeholder = customPlaceholder ? customPlaceholder : createHTML(\"<div id=\\\"\".concat(videoID, \"\\\" data-plyr-provider=\\\"\").concat(provider, \"\\\" data-plyr-embed-id=\\\"\").concat(url, \"\\\"></div>\"));\n      addClass(videoWrapper, \"\".concat(provider, \"-video gvideo\"));\n      videoWrapper.appendChild(placeholder);\n      videoWrapper.setAttribute('data-id', videoID);\n      videoWrapper.setAttribute('data-index', index);\n      var playerConfig = has(_this.settings.plyr, 'config') ? _this.settings.plyr.config : {};\n      var player = new Plyr('#' + videoID, playerConfig);\n      player.on('ready', function (event) {\n        videoPlayers[videoID] = event.detail.plyr;\n\n        if (isFunction(callback)) {\n          callback();\n        }\n      });\n      waitUntil(function () {\n        return slide.querySelector('iframe') && slide.querySelector('iframe').dataset.ready == 'true';\n      }, function () {\n        _this.resize(slide);\n      });\n      player.on('enterfullscreen', handleMediaFullScreen);\n      player.on('exitfullscreen', handleMediaFullScreen);\n    });\n  }\n\n  function handleMediaFullScreen(event) {\n    var media = closest(event.target, '.gslide-media');\n\n    if (event.type === 'enterfullscreen') {\n      addClass(media, 'fullscreen');\n    }\n\n    if (event.type === 'exitfullscreen') {\n      removeClass(media, 'fullscreen');\n    }\n  }\n\n  function slideInline(slide, data, index, callback) {\n    var _this = this;\n\n    var slideMedia = slide.querySelector('.gslide-media');\n    var hash = has(data, 'href') && data.href ? data.href.split('#').pop().trim() : false;\n    var content = has(data, 'content') && data.content ? data.content : false;\n    var innerContent;\n\n    if (content) {\n      if (isString(content)) {\n        innerContent = createHTML(\"<div class=\\\"ginlined-content\\\">\".concat(content, \"</div>\"));\n      }\n\n      if (isNode(content)) {\n        if (content.style.display == 'none') {\n          content.style.display = 'block';\n        }\n\n        var container = document.createElement('div');\n        container.className = 'ginlined-content';\n        container.appendChild(content);\n        innerContent = container;\n      }\n    }\n\n    if (hash) {\n      var div = document.getElementById(hash);\n\n      if (!div) {\n        return false;\n      }\n\n      var cloned = div.cloneNode(true);\n      cloned.style.height = data.height;\n      cloned.style.maxWidth = data.width;\n      addClass(cloned, 'ginlined-content');\n      innerContent = cloned;\n    }\n\n    if (!innerContent) {\n      console.error('Unable to append inline slide content', data);\n      return false;\n    }\n\n    slideMedia.style.height = data.height;\n    slideMedia.style.width = data.width;\n    slideMedia.appendChild(innerContent);\n    this.events['inlineclose' + hash] = addEvent('click', {\n      onElement: slideMedia.querySelectorAll('.gtrigger-close'),\n      withCallback: function withCallback(e) {\n        e.preventDefault();\n\n        _this.close();\n      }\n    });\n\n    if (isFunction(callback)) {\n      callback();\n    }\n\n    return;\n  }\n\n  function slideIframe(slide, data, index, callback) {\n    var slideMedia = slide.querySelector('.gslide-media');\n    var iframe = createIframe({\n      url: data.href,\n      callback: callback\n    });\n    slideMedia.parentNode.style.maxWidth = data.width;\n    slideMedia.parentNode.style.height = data.height;\n    slideMedia.appendChild(iframe);\n    return;\n  }\n\n  var SlideConfigParser = function () {\n    function SlideConfigParser() {\n      var slideParamas = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      _classCallCheck(this, SlideConfigParser);\n\n      this.defaults = {\n        href: '',\n        sizes: '',\n        srcset: '',\n        title: '',\n        type: '',\n        videoProvider: '',\n        description: '',\n        alt: '',\n        descPosition: 'bottom',\n        effect: '',\n        width: '',\n        height: '',\n        content: false,\n        zoomable: true,\n        draggable: true\n      };\n\n      if (isObject(slideParamas)) {\n        this.defaults = extend(this.defaults, slideParamas);\n      }\n    }\n\n    _createClass(SlideConfigParser, [{\n      key: \"sourceType\",\n      value: function sourceType(url) {\n        var origin = url;\n        url = url.toLowerCase();\n\n        if (url.match(/\\.(jpeg|jpg|jpe|gif|png|apn|webp|avif|svg)/) !== null) {\n          return 'image';\n        }\n\n        if (url.match(/(youtube\\.com|youtube-nocookie\\.com)\\/watch\\?v=([a-zA-Z0-9\\-_]+)/) || url.match(/youtu\\.be\\/([a-zA-Z0-9\\-_]+)/) || url.match(/(youtube\\.com|youtube-nocookie\\.com)\\/embed\\/([a-zA-Z0-9\\-_]+)/)) {\n          return 'video';\n        }\n\n        if (url.match(/vimeo\\.com\\/([0-9]*)/)) {\n          return 'video';\n        }\n\n        if (url.match(/\\.(mp4|ogg|webm|mov)/) !== null) {\n          return 'video';\n        }\n\n        if (url.match(/\\.(mp3|wav|wma|aac|ogg)/) !== null) {\n          return 'audio';\n        }\n\n        if (url.indexOf('#') > -1) {\n          var hash = origin.split('#').pop();\n\n          if (hash.trim() !== '') {\n            return 'inline';\n          }\n        }\n\n        if (url.indexOf('goajax=true') > -1) {\n          return 'ajax';\n        }\n\n        return 'external';\n      }\n    }, {\n      key: \"parseConfig\",\n      value: function parseConfig(element, settings) {\n        var _this = this;\n\n        var data = extend({\n          descPosition: settings.descPosition\n        }, this.defaults);\n\n        if (isObject(element) && !isNode(element)) {\n          if (!has(element, 'type')) {\n            if (has(element, 'content') && element.content) {\n              element.type = 'inline';\n            } else if (has(element, 'href')) {\n              element.type = this.sourceType(element.href);\n            }\n          }\n\n          var objectData = extend(data, element);\n          this.setSize(objectData, settings);\n          return objectData;\n        }\n\n        var url = '';\n        var config = element.getAttribute('data-glightbox');\n        var nodeType = element.nodeName.toLowerCase();\n\n        if (nodeType === 'a') {\n          url = element.href;\n        }\n\n        if (nodeType === 'img') {\n          url = element.src;\n          data.alt = element.alt;\n        }\n\n        data.href = url;\n        each(data, function (val, key) {\n          if (has(settings, key) && key !== 'width') {\n            data[key] = settings[key];\n          }\n\n          var nodeData = element.dataset[key];\n\n          if (!isNil(nodeData)) {\n            data[key] = _this.sanitizeValue(nodeData);\n          }\n        });\n\n        if (data.content) {\n          data.type = 'inline';\n        }\n\n        if (!data.type && url) {\n          data.type = this.sourceType(url);\n        }\n\n        if (!isNil(config)) {\n          var cleanKeys = [];\n          each(data, function (v, k) {\n            cleanKeys.push(';\\\\s?' + k);\n          });\n          cleanKeys = cleanKeys.join('\\\\s?:|');\n\n          if (config.trim() !== '') {\n            each(data, function (val, key) {\n              var str = config;\n              var match = 's?' + key + 's?:s?(.*?)(' + cleanKeys + 's?:|$)';\n              var regex = new RegExp(match);\n              var matches = str.match(regex);\n\n              if (matches && matches.length && matches[1]) {\n                var value = matches[1].trim().replace(/;\\s*$/, '');\n                data[key] = _this.sanitizeValue(value);\n              }\n            });\n          }\n        } else {\n          if (!data.title && nodeType == 'a') {\n            var title = element.title;\n\n            if (!isNil(title) && title !== '') {\n              data.title = title;\n            }\n          }\n\n          if (!data.title && nodeType == 'img') {\n            var alt = element.alt;\n\n            if (!isNil(alt) && alt !== '') {\n              data.title = alt;\n            }\n          }\n        }\n\n        if (data.description && data.description.substring(0, 1) === '.') {\n          var description;\n\n          try {\n            description = document.querySelector(data.description).innerHTML;\n          } catch (error) {\n            if (!(error instanceof DOMException)) {\n              throw error;\n            }\n          }\n\n          if (description) {\n            data.description = description;\n          }\n        }\n\n        if (!data.description) {\n          var nodeDesc = element.querySelector('.glightbox-desc');\n\n          if (nodeDesc) {\n            data.description = nodeDesc.innerHTML;\n          }\n        }\n\n        this.setSize(data, settings, element);\n        this.slideConfig = data;\n        return data;\n      }\n    }, {\n      key: \"setSize\",\n      value: function setSize(data, settings) {\n        var element = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n        var defaultWith = data.type == 'video' ? this.checkSize(settings.videosWidth) : this.checkSize(settings.width);\n        var defaultHeight = this.checkSize(settings.height);\n        data.width = has(data, 'width') && data.width !== '' ? this.checkSize(data.width) : defaultWith;\n        data.height = has(data, 'height') && data.height !== '' ? this.checkSize(data.height) : defaultHeight;\n\n        if (element && data.type == 'image') {\n          data._hasCustomWidth = element.dataset.width ? true : false;\n          data._hasCustomHeight = element.dataset.height ? true : false;\n        }\n\n        return data;\n      }\n    }, {\n      key: \"checkSize\",\n      value: function checkSize(size) {\n        return isNumber(size) ? \"\".concat(size, \"px\") : size;\n      }\n    }, {\n      key: \"sanitizeValue\",\n      value: function sanitizeValue(val) {\n        if (val !== 'true' && val !== 'false') {\n          return val;\n        }\n\n        return val === 'true';\n      }\n    }]);\n\n    return SlideConfigParser;\n  }();\n\n  var Slide = function () {\n    function Slide(el, instance, index) {\n      _classCallCheck(this, Slide);\n\n      this.element = el;\n      this.instance = instance;\n      this.index = index;\n    }\n\n    _createClass(Slide, [{\n      key: \"setContent\",\n      value: function setContent() {\n        var _this = this;\n\n        var slide = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n        var callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n        if (hasClass(slide, 'loaded')) {\n          return false;\n        }\n\n        var settings = this.instance.settings;\n        var slideConfig = this.slideConfig;\n        var isMobileDevice = isMobile();\n\n        if (isFunction(settings.beforeSlideLoad)) {\n          settings.beforeSlideLoad({\n            index: this.index,\n            slide: slide,\n            player: false\n          });\n        }\n\n        var type = slideConfig.type;\n        var position = slideConfig.descPosition;\n        var slideMedia = slide.querySelector('.gslide-media');\n        var slideTitle = slide.querySelector('.gslide-title');\n        var slideText = slide.querySelector('.gslide-desc');\n        var slideDesc = slide.querySelector('.gdesc-inner');\n        var finalCallback = callback;\n        var titleID = 'gSlideTitle_' + this.index;\n        var textID = 'gSlideDesc_' + this.index;\n\n        if (isFunction(settings.afterSlideLoad)) {\n          finalCallback = function finalCallback() {\n            if (isFunction(callback)) {\n              callback();\n            }\n\n            settings.afterSlideLoad({\n              index: _this.index,\n              slide: slide,\n              player: _this.instance.getSlidePlayerInstance(_this.index)\n            });\n          };\n        }\n\n        if (slideConfig.title == '' && slideConfig.description == '') {\n          if (slideDesc) {\n            slideDesc.parentNode.parentNode.removeChild(slideDesc.parentNode);\n          }\n        } else {\n          if (slideTitle && slideConfig.title !== '') {\n            slideTitle.id = titleID;\n            slideTitle.innerHTML = slideConfig.title;\n          } else {\n            slideTitle.parentNode.removeChild(slideTitle);\n          }\n\n          if (slideText && slideConfig.description !== '') {\n            slideText.id = textID;\n\n            if (isMobileDevice && settings.moreLength > 0) {\n              slideConfig.smallDescription = this.slideShortDesc(slideConfig.description, settings.moreLength, settings.moreText);\n              slideText.innerHTML = slideConfig.smallDescription;\n              this.descriptionEvents(slideText, slideConfig);\n            } else {\n              slideText.innerHTML = slideConfig.description;\n            }\n          } else {\n            slideText.parentNode.removeChild(slideText);\n          }\n\n          addClass(slideMedia.parentNode, \"desc-\".concat(position));\n          addClass(slideDesc.parentNode, \"description-\".concat(position));\n        }\n\n        addClass(slideMedia, \"gslide-\".concat(type));\n        addClass(slide, 'loaded');\n\n        if (type === 'video') {\n          slideVideo.apply(this.instance, [slide, slideConfig, this.index, finalCallback]);\n          return;\n        }\n\n        if (type === 'external') {\n          slideIframe.apply(this, [slide, slideConfig, this.index, finalCallback]);\n          return;\n        }\n\n        if (type === 'inline') {\n          slideInline.apply(this.instance, [slide, slideConfig, this.index, finalCallback]);\n\n          if (slideConfig.draggable) {\n            new DragSlides({\n              dragEl: slide.querySelector('.gslide-inline'),\n              toleranceX: settings.dragToleranceX,\n              toleranceY: settings.dragToleranceY,\n              slide: slide,\n              instance: this.instance\n            });\n          }\n\n          return;\n        }\n\n        if (type === 'image') {\n          slideImage(slide, slideConfig, this.index, function () {\n            var img = slide.querySelector('img');\n\n            if (slideConfig.draggable) {\n              new DragSlides({\n                dragEl: img,\n                toleranceX: settings.dragToleranceX,\n                toleranceY: settings.dragToleranceY,\n                slide: slide,\n                instance: _this.instance\n              });\n            }\n\n            if (slideConfig.zoomable && img.naturalWidth > img.offsetWidth) {\n              addClass(img, 'zoomable');\n              new ZoomImages(img, slide, function () {\n                _this.instance.resize();\n              });\n            }\n\n            if (isFunction(finalCallback)) {\n              finalCallback();\n            }\n          });\n          return;\n        }\n\n        if (isFunction(finalCallback)) {\n          finalCallback();\n        }\n      }\n    }, {\n      key: \"slideShortDesc\",\n      value: function slideShortDesc(string) {\n        var n = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 50;\n        var wordBoundary = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n        var div = document.createElement('div');\n        div.innerHTML = string;\n        var cleanedString = div.innerText;\n        var useWordBoundary = wordBoundary;\n        string = cleanedString.trim();\n\n        if (string.length <= n) {\n          return string;\n        }\n\n        var subString = string.substr(0, n - 1);\n\n        if (!useWordBoundary) {\n          return subString;\n        }\n\n        div = null;\n        return subString + '... <a href=\"#\" class=\"desc-more\">' + wordBoundary + '</a>';\n      }\n    }, {\n      key: \"descriptionEvents\",\n      value: function descriptionEvents(desc, data) {\n        var _this2 = this;\n\n        var moreLink = desc.querySelector('.desc-more');\n\n        if (!moreLink) {\n          return false;\n        }\n\n        addEvent('click', {\n          onElement: moreLink,\n          withCallback: function withCallback(event, target) {\n            event.preventDefault();\n            var body = document.body;\n            var desc = closest(target, '.gslide-desc');\n\n            if (!desc) {\n              return false;\n            }\n\n            desc.innerHTML = data.description;\n            addClass(body, 'gdesc-open');\n            var shortEvent = addEvent('click', {\n              onElement: [body, closest(desc, '.gslide-description')],\n              withCallback: function withCallback(event, target) {\n                if (event.target.nodeName.toLowerCase() !== 'a') {\n                  removeClass(body, 'gdesc-open');\n                  addClass(body, 'gdesc-closed');\n                  desc.innerHTML = data.smallDescription;\n\n                  _this2.descriptionEvents(desc, data);\n\n                  setTimeout(function () {\n                    removeClass(body, 'gdesc-closed');\n                  }, 400);\n                  shortEvent.destroy();\n                }\n              }\n            });\n          }\n        });\n      }\n    }, {\n      key: \"create\",\n      value: function create() {\n        return createHTML(this.instance.settings.slideHTML);\n      }\n    }, {\n      key: \"getConfig\",\n      value: function getConfig() {\n        if (!isNode(this.element) && !this.element.hasOwnProperty('draggable')) {\n          this.element.draggable = this.instance.settings.draggable;\n        }\n\n        var parser = new SlideConfigParser(this.instance.settings.slideExtraAttributes);\n        this.slideConfig = parser.parseConfig(this.element, this.instance.settings);\n        return this.slideConfig;\n      }\n    }]);\n\n    return Slide;\n  }();\n\n  var _version = '3.1.0';\n\n  var isMobile$1 = isMobile();\n\n  var isTouch$1 = isTouch();\n\n  var html = document.getElementsByTagName('html')[0];\n  var defaults = {\n    selector: '.glightbox',\n    elements: null,\n    skin: 'clean',\n    theme: 'clean',\n    closeButton: true,\n    startAt: null,\n    autoplayVideos: true,\n    autofocusVideos: true,\n    descPosition: 'bottom',\n    width: '900px',\n    height: '506px',\n    videosWidth: '960px',\n    beforeSlideChange: null,\n    afterSlideChange: null,\n    beforeSlideLoad: null,\n    afterSlideLoad: null,\n    slideInserted: null,\n    slideRemoved: null,\n    slideExtraAttributes: null,\n    onOpen: null,\n    onClose: null,\n    loop: false,\n    zoomable: true,\n    draggable: true,\n    dragAutoSnap: false,\n    dragToleranceX: 40,\n    dragToleranceY: 65,\n    preload: true,\n    oneSlidePerOpen: false,\n    touchNavigation: true,\n    touchFollowAxis: true,\n    keyboardNavigation: true,\n    closeOnOutsideClick: true,\n    plugins: false,\n    plyr: {\n      css: 'https://cdn.plyr.io/3.6.12/plyr.css',\n      js: 'https://cdn.plyr.io/3.6.12/plyr.js',\n      config: {\n        ratio: '16:9',\n        fullscreen: {\n          enabled: true,\n          iosNative: true\n        },\n        youtube: {\n          noCookie: true,\n          rel: 0,\n          showinfo: 0,\n          iv_load_policy: 3\n        },\n        vimeo: {\n          byline: false,\n          portrait: false,\n          title: false,\n          transparent: false\n        }\n      }\n    },\n    openEffect: 'zoom',\n    closeEffect: 'zoom',\n    slideEffect: 'slide',\n    moreText: 'See more',\n    moreLength: 60,\n    cssEfects: {\n      fade: {\n        \"in\": 'fadeIn',\n        out: 'fadeOut'\n      },\n      zoom: {\n        \"in\": 'zoomIn',\n        out: 'zoomOut'\n      },\n      slide: {\n        \"in\": 'slideInRight',\n        out: 'slideOutLeft'\n      },\n      slideBack: {\n        \"in\": 'slideInLeft',\n        out: 'slideOutRight'\n      },\n      none: {\n        \"in\": 'none',\n        out: 'none'\n      }\n    },\n    svg: {\n      close: '<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" viewBox=\"0 0 512 512\" xml:space=\"preserve\"><g><g><path d=\"M505.943,6.058c-8.077-8.077-21.172-8.077-29.249,0L6.058,476.693c-8.077,8.077-8.077,21.172,0,29.249C10.096,509.982,15.39,512,20.683,512c5.293,0,10.586-2.019,14.625-6.059L505.943,35.306C514.019,27.23,514.019,14.135,505.943,6.058z\"/></g></g><g><g><path d=\"M505.942,476.694L35.306,6.059c-8.076-8.077-21.172-8.077-29.248,0c-8.077,8.076-8.077,21.171,0,29.248l470.636,470.636c4.038,4.039,9.332,6.058,14.625,6.058c5.293,0,10.587-2.019,14.624-6.057C514.018,497.866,514.018,484.771,505.942,476.694z\"/></g></g></svg>',\n      next: '<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" viewBox=\"0 0 477.175 477.175\" xml:space=\"preserve\"> <g><path d=\"M360.731,229.075l-225.1-225.1c-5.3-5.3-13.8-5.3-19.1,0s-5.3,13.8,0,19.1l215.5,215.5l-215.5,215.5c-5.3,5.3-5.3,13.8,0,19.1c2.6,2.6,6.1,4,9.5,4c3.4,0,6.9-1.3,9.5-4l225.1-225.1C365.931,242.875,365.931,234.275,360.731,229.075z\"/></g></svg>',\n      prev: '<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" viewBox=\"0 0 477.175 477.175\" xml:space=\"preserve\"><g><path d=\"M145.188,238.575l215.5-215.5c5.3-5.3,5.3-13.8,0-19.1s-13.8-5.3-19.1,0l-225.1,225.1c-5.3,5.3-5.3,13.8,0,19.1l225.1,225c2.6,2.6,6.1,4,9.5,4s6.9-1.3,9.5-4c5.3-5.3,5.3-13.8,0-19.1L145.188,238.575z\"/></g></svg>'\n    }\n  };\n  defaults.slideHTML = \"<div class=\\\"gslide\\\">\\n    <div class=\\\"gslide-inner-content\\\">\\n        <div class=\\\"ginner-container\\\">\\n            <div class=\\\"gslide-media\\\">\\n            </div>\\n            <div class=\\\"gslide-description\\\">\\n                <div class=\\\"gdesc-inner\\\">\\n                    <h4 class=\\\"gslide-title\\\"></h4>\\n                    <div class=\\\"gslide-desc\\\"></div>\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\";\n  defaults.lightboxHTML = \"<div id=\\\"glightbox-body\\\" class=\\\"glightbox-container\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\" aria-hidden=\\\"false\\\">\\n    <div class=\\\"gloader visible\\\"></div>\\n    <div class=\\\"goverlay\\\"></div>\\n    <div class=\\\"gcontainer\\\">\\n    <div id=\\\"glightbox-slider\\\" class=\\\"gslider\\\"></div>\\n    <button class=\\\"gclose gbtn\\\" aria-label=\\\"Close\\\" data-taborder=\\\"3\\\">{closeSVG}</button>\\n    <button class=\\\"gprev gbtn\\\" aria-label=\\\"Previous\\\" data-taborder=\\\"2\\\">{prevSVG}</button>\\n    <button class=\\\"gnext gbtn\\\" aria-label=\\\"Next\\\" data-taborder=\\\"1\\\">{nextSVG}</button>\\n</div>\\n</div>\";\n\n  var GlightboxInit = function () {\n    function GlightboxInit() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      _classCallCheck(this, GlightboxInit);\n\n      this.customOptions = options;\n      this.settings = extend(defaults, options);\n      this.effectsClasses = this.getAnimationClasses();\n      this.videoPlayers = {};\n      this.apiEvents = [];\n      this.fullElementsList = false;\n    }\n\n    _createClass(GlightboxInit, [{\n      key: \"init\",\n      value: function init() {\n        var _this = this;\n\n        var selector = this.getSelector();\n\n        if (selector) {\n          this.baseEvents = addEvent('click', {\n            onElement: selector,\n            withCallback: function withCallback(e, target) {\n              e.preventDefault();\n\n              _this.open(target);\n            }\n          });\n        }\n\n        this.elements = this.getElements();\n      }\n    }, {\n      key: \"open\",\n      value: function open() {\n        var element = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n        var startAt = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n        if (this.elements.length === 0) {\n          return false;\n        }\n\n        this.activeSlide = null;\n        this.prevActiveSlideIndex = null;\n        this.prevActiveSlide = null;\n        var index = isNumber(startAt) ? startAt : this.settings.startAt;\n\n        if (isNode(element)) {\n          var gallery = element.getAttribute('data-gallery');\n\n          if (gallery) {\n            this.fullElementsList = this.elements;\n            this.elements = this.getGalleryElements(this.elements, gallery);\n          }\n\n          if (isNil(index)) {\n            index = this.getElementIndex(element);\n\n            if (index < 0) {\n              index = 0;\n            }\n          }\n        }\n\n        if (!isNumber(index)) {\n          index = 0;\n        }\n\n        this.build();\n\n        animateElement(this.overlay, this.settings.openEffect === 'none' ? 'none' : this.settings.cssEfects.fade[\"in\"]);\n\n        var body = document.body;\n        var scrollBar = window.innerWidth - document.documentElement.clientWidth;\n\n        if (scrollBar > 0) {\n          var styleSheet = document.createElement('style');\n          styleSheet.type = 'text/css';\n          styleSheet.className = 'gcss-styles';\n          styleSheet.innerText = \".gscrollbar-fixer {margin-right: \".concat(scrollBar, \"px}\");\n          document.head.appendChild(styleSheet);\n\n          addClass(body, 'gscrollbar-fixer');\n        }\n\n        addClass(body, 'glightbox-open');\n\n        addClass(html, 'glightbox-open');\n\n        if (isMobile$1) {\n          addClass(document.body, 'glightbox-mobile');\n\n          this.settings.slideEffect = 'slide';\n        }\n\n        this.showSlide(index, true);\n\n        if (this.elements.length === 1) {\n          addClass(this.prevButton, 'glightbox-button-hidden');\n\n          addClass(this.nextButton, 'glightbox-button-hidden');\n        } else {\n          removeClass(this.prevButton, 'glightbox-button-hidden');\n\n          removeClass(this.nextButton, 'glightbox-button-hidden');\n        }\n\n        this.lightboxOpen = true;\n        this.trigger('open');\n\n        if (isFunction(this.settings.onOpen)) {\n          this.settings.onOpen();\n        }\n\n        if (isTouch$1 && this.settings.touchNavigation) {\n          touchNavigation(this);\n        }\n\n        if (this.settings.keyboardNavigation) {\n          keyboardNavigation(this);\n        }\n      }\n    }, {\n      key: \"openAt\",\n      value: function openAt() {\n        var index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n        this.open(null, index);\n      }\n    }, {\n      key: \"showSlide\",\n      value: function showSlide() {\n        var _this2 = this;\n\n        var index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n        var first = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n        show(this.loader);\n\n        this.index = parseInt(index);\n        var current = this.slidesContainer.querySelector('.current');\n\n        if (current) {\n          removeClass(current, 'current');\n        }\n\n        this.slideAnimateOut();\n        var slideNode = this.slidesContainer.querySelectorAll('.gslide')[index];\n\n        if (hasClass(slideNode, 'loaded')) {\n          this.slideAnimateIn(slideNode, first);\n\n          hide(this.loader);\n        } else {\n          show(this.loader);\n\n          var slide = this.elements[index];\n          var slideData = {\n            index: this.index,\n            slide: slideNode,\n            slideNode: slideNode,\n            slideConfig: slide.slideConfig,\n            slideIndex: this.index,\n            trigger: slide.node,\n            player: null\n          };\n          this.trigger('slide_before_load', slideData);\n          slide.instance.setContent(slideNode, function () {\n            hide(_this2.loader);\n\n            _this2.resize();\n\n            _this2.slideAnimateIn(slideNode, first);\n\n            _this2.trigger('slide_after_load', slideData);\n          });\n        }\n\n        this.slideDescription = slideNode.querySelector('.gslide-description');\n        this.slideDescriptionContained = this.slideDescription && hasClass(this.slideDescription.parentNode, 'gslide-media');\n\n        if (this.settings.preload) {\n          this.preloadSlide(index + 1);\n          this.preloadSlide(index - 1);\n        }\n\n        this.updateNavigationClasses();\n        this.activeSlide = slideNode;\n      }\n    }, {\n      key: \"preloadSlide\",\n      value: function preloadSlide(index) {\n        var _this3 = this;\n\n        if (index < 0 || index > this.elements.length - 1) {\n          return false;\n        }\n\n        if (isNil(this.elements[index])) {\n          return false;\n        }\n\n        var slideNode = this.slidesContainer.querySelectorAll('.gslide')[index];\n\n        if (hasClass(slideNode, 'loaded')) {\n          return false;\n        }\n\n        var slide = this.elements[index];\n        var type = slide.type;\n        var slideData = {\n          index: index,\n          slide: slideNode,\n          slideNode: slideNode,\n          slideConfig: slide.slideConfig,\n          slideIndex: index,\n          trigger: slide.node,\n          player: null\n        };\n        this.trigger('slide_before_load', slideData);\n\n        if (type === 'video' || type === 'external') {\n          setTimeout(function () {\n            slide.instance.setContent(slideNode, function () {\n              _this3.trigger('slide_after_load', slideData);\n            });\n          }, 200);\n        } else {\n          slide.instance.setContent(slideNode, function () {\n            _this3.trigger('slide_after_load', slideData);\n          });\n        }\n      }\n    }, {\n      key: \"prevSlide\",\n      value: function prevSlide() {\n        this.goToSlide(this.index - 1);\n      }\n    }, {\n      key: \"nextSlide\",\n      value: function nextSlide() {\n        this.goToSlide(this.index + 1);\n      }\n    }, {\n      key: \"goToSlide\",\n      value: function goToSlide() {\n        var index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n        this.prevActiveSlide = this.activeSlide;\n        this.prevActiveSlideIndex = this.index;\n\n        if (!this.loop() && (index < 0 || index > this.elements.length - 1)) {\n          return false;\n        }\n\n        if (index < 0) {\n          index = this.elements.length - 1;\n        } else if (index >= this.elements.length) {\n          index = 0;\n        }\n\n        this.showSlide(index);\n      }\n    }, {\n      key: \"insertSlide\",\n      value: function insertSlide() {\n        var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        var index = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : -1;\n\n        if (index < 0) {\n          index = this.elements.length;\n        }\n\n        var slide = new Slide(config, this, index);\n        var data = slide.getConfig();\n\n        var slideInfo = extend({}, data);\n\n        var newSlide = slide.create();\n        var totalSlides = this.elements.length - 1;\n        slideInfo.index = index;\n        slideInfo.node = false;\n        slideInfo.instance = slide;\n        slideInfo.slideConfig = data;\n        this.elements.splice(index, 0, slideInfo);\n        var addedSlideNode = null;\n        var addedSlidePlayer = null;\n\n        if (this.slidesContainer) {\n          if (index > totalSlides) {\n            this.slidesContainer.appendChild(newSlide);\n          } else {\n            var existingSlide = this.slidesContainer.querySelectorAll('.gslide')[index];\n            this.slidesContainer.insertBefore(newSlide, existingSlide);\n          }\n\n          if (this.settings.preload && this.index == 0 && index == 0 || this.index - 1 == index || this.index + 1 == index) {\n            this.preloadSlide(index);\n          }\n\n          if (this.index === 0 && index === 0) {\n            this.index = 1;\n          }\n\n          this.updateNavigationClasses();\n          addedSlideNode = this.slidesContainer.querySelectorAll('.gslide')[index];\n          addedSlidePlayer = this.getSlidePlayerInstance(index);\n          slideInfo.slideNode = addedSlideNode;\n        }\n\n        this.trigger('slide_inserted', {\n          index: index,\n          slide: addedSlideNode,\n          slideNode: addedSlideNode,\n          slideConfig: data,\n          slideIndex: index,\n          trigger: null,\n          player: addedSlidePlayer\n        });\n\n        if (isFunction(this.settings.slideInserted)) {\n          this.settings.slideInserted({\n            index: index,\n            slide: addedSlideNode,\n            player: addedSlidePlayer\n          });\n        }\n      }\n    }, {\n      key: \"removeSlide\",\n      value: function removeSlide() {\n        var index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : -1;\n\n        if (index < 0 || index > this.elements.length - 1) {\n          return false;\n        }\n\n        var slide = this.slidesContainer && this.slidesContainer.querySelectorAll('.gslide')[index];\n\n        if (slide) {\n          if (this.getActiveSlideIndex() == index) {\n            if (index == this.elements.length - 1) {\n              this.prevSlide();\n            } else {\n              this.nextSlide();\n            }\n          }\n\n          slide.parentNode.removeChild(slide);\n        }\n\n        this.elements.splice(index, 1);\n        this.trigger('slide_removed', index);\n\n        if (isFunction(this.settings.slideRemoved)) {\n          this.settings.slideRemoved(index);\n        }\n      }\n    }, {\n      key: \"slideAnimateIn\",\n      value: function slideAnimateIn(slide, first) {\n        var _this4 = this;\n\n        var slideMedia = slide.querySelector('.gslide-media');\n        var slideDesc = slide.querySelector('.gslide-description');\n        var prevData = {\n          index: this.prevActiveSlideIndex,\n          slide: this.prevActiveSlide,\n          slideNode: this.prevActiveSlide,\n          slideIndex: this.prevActiveSlide,\n          slideConfig: isNil(this.prevActiveSlideIndex) ? null : this.elements[this.prevActiveSlideIndex].slideConfig,\n          trigger: isNil(this.prevActiveSlideIndex) ? null : this.elements[this.prevActiveSlideIndex].node,\n          player: this.getSlidePlayerInstance(this.prevActiveSlideIndex)\n        };\n        var nextData = {\n          index: this.index,\n          slide: this.activeSlide,\n          slideNode: this.activeSlide,\n          slideConfig: this.elements[this.index].slideConfig,\n          slideIndex: this.index,\n          trigger: this.elements[this.index].node,\n          player: this.getSlidePlayerInstance(this.index)\n        };\n\n        if (slideMedia.offsetWidth > 0 && slideDesc) {\n          hide(slideDesc);\n\n          slideDesc.style.display = '';\n        }\n\n        removeClass(slide, this.effectsClasses);\n\n        if (first) {\n          animateElement(slide, this.settings.cssEfects[this.settings.openEffect][\"in\"], function () {\n            if (_this4.settings.autoplayVideos) {\n              _this4.slidePlayerPlay(slide);\n            }\n\n            _this4.trigger('slide_changed', {\n              prev: prevData,\n              current: nextData\n            });\n\n            if (isFunction(_this4.settings.afterSlideChange)) {\n              _this4.settings.afterSlideChange.apply(_this4, [prevData, nextData]);\n            }\n          });\n        } else {\n          var effectName = this.settings.slideEffect;\n          var animIn = effectName !== 'none' ? this.settings.cssEfects[effectName][\"in\"] : effectName;\n\n          if (this.prevActiveSlideIndex > this.index) {\n            if (this.settings.slideEffect == 'slide') {\n              animIn = this.settings.cssEfects.slideBack[\"in\"];\n            }\n          }\n\n          animateElement(slide, animIn, function () {\n            if (_this4.settings.autoplayVideos) {\n              _this4.slidePlayerPlay(slide);\n            }\n\n            _this4.trigger('slide_changed', {\n              prev: prevData,\n              current: nextData\n            });\n\n            if (isFunction(_this4.settings.afterSlideChange)) {\n              _this4.settings.afterSlideChange.apply(_this4, [prevData, nextData]);\n            }\n          });\n        }\n\n        setTimeout(function () {\n          _this4.resize(slide);\n        }, 100);\n\n        addClass(slide, 'current');\n      }\n    }, {\n      key: \"slideAnimateOut\",\n      value: function slideAnimateOut() {\n        if (!this.prevActiveSlide) {\n          return false;\n        }\n\n        var prevSlide = this.prevActiveSlide;\n\n        removeClass(prevSlide, this.effectsClasses);\n\n        addClass(prevSlide, 'prev');\n\n        var animation = this.settings.slideEffect;\n        var animOut = animation !== 'none' ? this.settings.cssEfects[animation].out : animation;\n        this.slidePlayerPause(prevSlide);\n        this.trigger('slide_before_change', {\n          prev: {\n            index: this.prevActiveSlideIndex,\n            slide: this.prevActiveSlide,\n            slideNode: this.prevActiveSlide,\n            slideIndex: this.prevActiveSlideIndex,\n            slideConfig: isNil(this.prevActiveSlideIndex) ? null : this.elements[this.prevActiveSlideIndex].slideConfig,\n            trigger: isNil(this.prevActiveSlideIndex) ? null : this.elements[this.prevActiveSlideIndex].node,\n            player: this.getSlidePlayerInstance(this.prevActiveSlideIndex)\n          },\n          current: {\n            index: this.index,\n            slide: this.activeSlide,\n            slideNode: this.activeSlide,\n            slideIndex: this.index,\n            slideConfig: this.elements[this.index].slideConfig,\n            trigger: this.elements[this.index].node,\n            player: this.getSlidePlayerInstance(this.index)\n          }\n        });\n\n        if (isFunction(this.settings.beforeSlideChange)) {\n          this.settings.beforeSlideChange.apply(this, [{\n            index: this.prevActiveSlideIndex,\n            slide: this.prevActiveSlide,\n            player: this.getSlidePlayerInstance(this.prevActiveSlideIndex)\n          }, {\n            index: this.index,\n            slide: this.activeSlide,\n            player: this.getSlidePlayerInstance(this.index)\n          }]);\n        }\n\n        if (this.prevActiveSlideIndex > this.index && this.settings.slideEffect == 'slide') {\n          animOut = this.settings.cssEfects.slideBack.out;\n        }\n\n        animateElement(prevSlide, animOut, function () {\n          var container = prevSlide.querySelector('.ginner-container');\n          var media = prevSlide.querySelector('.gslide-media');\n          var desc = prevSlide.querySelector('.gslide-description');\n          container.style.transform = '';\n          media.style.transform = '';\n\n          removeClass(media, 'greset');\n\n          media.style.opacity = '';\n\n          if (desc) {\n            desc.style.opacity = '';\n          }\n\n          removeClass(prevSlide, 'prev');\n        });\n      }\n    }, {\n      key: \"getAllPlayers\",\n      value: function getAllPlayers() {\n        return this.videoPlayers;\n      }\n    }, {\n      key: \"getSlidePlayerInstance\",\n      value: function getSlidePlayerInstance(index) {\n        var id = 'gvideo' + index;\n        var videoPlayers = this.getAllPlayers();\n\n        if (has(videoPlayers, id) && videoPlayers[id]) {\n          return videoPlayers[id];\n        }\n\n        return false;\n      }\n    }, {\n      key: \"stopSlideVideo\",\n      value: function stopSlideVideo(slide) {\n        if (isNode(slide)) {\n          var node = slide.querySelector('.gvideo-wrapper');\n\n          if (node) {\n            slide = node.getAttribute('data-index');\n          }\n        }\n\n        console.log('stopSlideVideo is deprecated, use slidePlayerPause');\n        var player = this.getSlidePlayerInstance(slide);\n\n        if (player && player.playing) {\n          player.pause();\n        }\n      }\n    }, {\n      key: \"slidePlayerPause\",\n      value: function slidePlayerPause(slide) {\n        if (isNode(slide)) {\n          var node = slide.querySelector('.gvideo-wrapper');\n\n          if (node) {\n            slide = node.getAttribute('data-index');\n          }\n        }\n\n        var player = this.getSlidePlayerInstance(slide);\n\n        if (player && player.playing) {\n          player.pause();\n        }\n      }\n    }, {\n      key: \"playSlideVideo\",\n      value: function playSlideVideo(slide) {\n        if (isNode(slide)) {\n          var node = slide.querySelector('.gvideo-wrapper');\n\n          if (node) {\n            slide = node.getAttribute('data-index');\n          }\n        }\n\n        console.log('playSlideVideo is deprecated, use slidePlayerPlay');\n        var player = this.getSlidePlayerInstance(slide);\n\n        if (player && !player.playing) {\n          player.play();\n        }\n      }\n    }, {\n      key: \"slidePlayerPlay\",\n      value: function slidePlayerPlay(slide) {\n        var _this$settings$plyr$c;\n\n        if (isMobile$1 && !((_this$settings$plyr$c = this.settings.plyr.config) !== null && _this$settings$plyr$c !== void 0 && _this$settings$plyr$c.muted)) {\n          return;\n        }\n\n        if (isNode(slide)) {\n          var node = slide.querySelector('.gvideo-wrapper');\n\n          if (node) {\n            slide = node.getAttribute('data-index');\n          }\n        }\n\n        var player = this.getSlidePlayerInstance(slide);\n\n        if (player && !player.playing) {\n          player.play();\n\n          if (this.settings.autofocusVideos) {\n            player.elements.container.focus();\n          }\n        }\n      }\n    }, {\n      key: \"setElements\",\n      value: function setElements(elements) {\n        var _this5 = this;\n\n        this.settings.elements = false;\n        var newElements = [];\n\n        if (elements && elements.length) {\n          each(elements, function (el, i) {\n            var slide = new Slide(el, _this5, i);\n            var data = slide.getConfig();\n\n            var slideInfo = extend({}, data);\n\n            slideInfo.slideConfig = data;\n            slideInfo.instance = slide;\n            slideInfo.index = i;\n            newElements.push(slideInfo);\n          });\n        }\n\n        this.elements = newElements;\n\n        if (this.lightboxOpen) {\n          this.slidesContainer.innerHTML = '';\n\n          if (this.elements.length) {\n            each(this.elements, function () {\n              var slide = createHTML(_this5.settings.slideHTML);\n\n              _this5.slidesContainer.appendChild(slide);\n            });\n\n            this.showSlide(0, true);\n          }\n        }\n      }\n    }, {\n      key: \"getElementIndex\",\n      value: function getElementIndex(node) {\n        var index = false;\n\n        each(this.elements, function (el, i) {\n          if (has(el, 'node') && el.node == node) {\n            index = i;\n            return true;\n          }\n        });\n\n        return index;\n      }\n    }, {\n      key: \"getElements\",\n      value: function getElements() {\n        var _this6 = this;\n\n        var list = [];\n        this.elements = this.elements ? this.elements : [];\n\n        if (!isNil(this.settings.elements) && isArray(this.settings.elements) && this.settings.elements.length) {\n          each(this.settings.elements, function (el, i) {\n            var slide = new Slide(el, _this6, i);\n            var elData = slide.getConfig();\n\n            var slideInfo = extend({}, elData);\n\n            slideInfo.node = false;\n            slideInfo.index = i;\n            slideInfo.instance = slide;\n            slideInfo.slideConfig = elData;\n            list.push(slideInfo);\n          });\n        }\n\n        var nodes = false;\n        var selector = this.getSelector();\n\n        if (selector) {\n          nodes = document.querySelectorAll(this.getSelector());\n        }\n\n        if (!nodes) {\n          return list;\n        }\n\n        each(nodes, function (el, i) {\n          var slide = new Slide(el, _this6, i);\n          var elData = slide.getConfig();\n\n          var slideInfo = extend({}, elData);\n\n          slideInfo.node = el;\n          slideInfo.index = i;\n          slideInfo.instance = slide;\n          slideInfo.slideConfig = elData;\n          slideInfo.gallery = el.getAttribute('data-gallery');\n          list.push(slideInfo);\n        });\n\n        return list;\n      }\n    }, {\n      key: \"getGalleryElements\",\n      value: function getGalleryElements(list, gallery) {\n        return list.filter(function (el) {\n          return el.gallery == gallery;\n        });\n      }\n    }, {\n      key: \"getSelector\",\n      value: function getSelector() {\n        if (this.settings.elements) {\n          return false;\n        }\n\n        if (this.settings.selector && this.settings.selector.substring(0, 5) == 'data-') {\n          return \"*[\".concat(this.settings.selector, \"]\");\n        }\n\n        return this.settings.selector;\n      }\n    }, {\n      key: \"getActiveSlide\",\n      value: function getActiveSlide() {\n        return this.slidesContainer.querySelectorAll('.gslide')[this.index];\n      }\n    }, {\n      key: \"getActiveSlideIndex\",\n      value: function getActiveSlideIndex() {\n        return this.index;\n      }\n    }, {\n      key: \"getAnimationClasses\",\n      value: function getAnimationClasses() {\n        var effects = [];\n\n        for (var key in this.settings.cssEfects) {\n          if (this.settings.cssEfects.hasOwnProperty(key)) {\n            var effect = this.settings.cssEfects[key];\n            effects.push(\"g\".concat(effect[\"in\"]));\n            effects.push(\"g\".concat(effect.out));\n          }\n        }\n\n        return effects.join(' ');\n      }\n    }, {\n      key: \"build\",\n      value: function build() {\n        var _this7 = this;\n\n        if (this.built) {\n          return false;\n        }\n\n        var children = document.body.childNodes;\n        var bodyChildElms = [];\n\n        each(children, function (el) {\n          if (el.parentNode == document.body && el.nodeName.charAt(0) !== '#' && el.hasAttribute && !el.hasAttribute('aria-hidden')) {\n            bodyChildElms.push(el);\n            el.setAttribute('aria-hidden', 'true');\n          }\n        });\n\n        var nextSVG = has(this.settings.svg, 'next') ? this.settings.svg.next : '';\n        var prevSVG = has(this.settings.svg, 'prev') ? this.settings.svg.prev : '';\n        var closeSVG = has(this.settings.svg, 'close') ? this.settings.svg.close : '';\n        var lightboxHTML = this.settings.lightboxHTML;\n        lightboxHTML = lightboxHTML.replace(/{nextSVG}/g, nextSVG);\n        lightboxHTML = lightboxHTML.replace(/{prevSVG}/g, prevSVG);\n        lightboxHTML = lightboxHTML.replace(/{closeSVG}/g, closeSVG);\n        lightboxHTML = createHTML(lightboxHTML);\n        document.body.appendChild(lightboxHTML);\n        var modal = document.getElementById('glightbox-body');\n        this.modal = modal;\n        var closeButton = modal.querySelector('.gclose');\n        this.prevButton = modal.querySelector('.gprev');\n        this.nextButton = modal.querySelector('.gnext');\n        this.overlay = modal.querySelector('.goverlay');\n        this.loader = modal.querySelector('.gloader');\n        this.slidesContainer = document.getElementById('glightbox-slider');\n        this.bodyHiddenChildElms = bodyChildElms;\n        this.events = {};\n\n        addClass(this.modal, 'glightbox-' + this.settings.skin);\n\n        if (this.settings.closeButton && closeButton) {\n          this.events['close'] = addEvent('click', {\n            onElement: closeButton,\n            withCallback: function withCallback(e, target) {\n              e.preventDefault();\n\n              _this7.close();\n            }\n          });\n        }\n\n        if (closeButton && !this.settings.closeButton) {\n          closeButton.parentNode.removeChild(closeButton);\n        }\n\n        if (this.nextButton) {\n          this.events['next'] = addEvent('click', {\n            onElement: this.nextButton,\n            withCallback: function withCallback(e, target) {\n              e.preventDefault();\n\n              _this7.nextSlide();\n            }\n          });\n        }\n\n        if (this.prevButton) {\n          this.events['prev'] = addEvent('click', {\n            onElement: this.prevButton,\n            withCallback: function withCallback(e, target) {\n              e.preventDefault();\n\n              _this7.prevSlide();\n            }\n          });\n        }\n\n        if (this.settings.closeOnOutsideClick) {\n          this.events['outClose'] = addEvent('click', {\n            onElement: modal,\n            withCallback: function withCallback(e, target) {\n              if (!_this7.preventOutsideClick && !hasClass(document.body, 'glightbox-mobile') && !closest(e.target, '.ginner-container')) {\n                if (!closest(e.target, '.gbtn') && !hasClass(e.target, 'gnext') && !hasClass(e.target, 'gprev')) {\n                  _this7.close();\n                }\n              }\n            }\n          });\n        }\n\n        each(this.elements, function (slide, i) {\n          _this7.slidesContainer.appendChild(slide.instance.create());\n\n          slide.slideNode = _this7.slidesContainer.querySelectorAll('.gslide')[i];\n        });\n\n        if (isTouch$1) {\n          addClass(document.body, 'glightbox-touch');\n        }\n\n        this.events['resize'] = addEvent('resize', {\n          onElement: window,\n          withCallback: function withCallback() {\n            _this7.resize();\n          }\n        });\n        this.built = true;\n      }\n    }, {\n      key: \"resize\",\n      value: function resize() {\n        var slide = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n        slide = !slide ? this.activeSlide : slide;\n\n        if (!slide || hasClass(slide, 'zoomed')) {\n          return;\n        }\n\n        var winSize = windowSize();\n\n        var video = slide.querySelector('.gvideo-wrapper');\n        var image = slide.querySelector('.gslide-image');\n        var description = this.slideDescription;\n        var winWidth = winSize.width;\n        var winHeight = winSize.height;\n\n        if (winWidth <= 768) {\n          addClass(document.body, 'glightbox-mobile');\n        } else {\n          removeClass(document.body, 'glightbox-mobile');\n        }\n\n        if (!video && !image) {\n          return;\n        }\n\n        var descriptionResize = false;\n\n        if (description && (hasClass(description, 'description-bottom') || hasClass(description, 'description-top')) && !hasClass(description, 'gabsolute')) {\n          descriptionResize = true;\n        }\n\n        if (image) {\n          if (winWidth <= 768) {\n            var imgNode = image.querySelector('img');\n          } else if (descriptionResize) {\n            var descHeight = description.offsetHeight;\n\n            var _imgNode = image.querySelector('img');\n\n            _imgNode.setAttribute('style', \"max-height: calc(100vh - \".concat(descHeight, \"px)\"));\n\n            description.setAttribute('style', \"max-width: \".concat(_imgNode.offsetWidth, \"px;\"));\n          }\n        }\n\n        if (video) {\n          var ratio = has(this.settings.plyr.config, 'ratio') ? this.settings.plyr.config.ratio : '';\n\n          if (!ratio) {\n            var containerWidth = video.clientWidth;\n            var containerHeight = video.clientHeight;\n            var divisor = containerWidth / containerHeight;\n            ratio = \"\".concat(containerWidth / divisor, \":\").concat(containerHeight / divisor);\n          }\n\n          var videoRatio = ratio.split(':');\n          var videoWidth = this.settings.videosWidth;\n          var maxWidth = this.settings.videosWidth;\n\n          if (isNumber(videoWidth) || videoWidth.indexOf('px') !== -1) {\n            maxWidth = parseInt(videoWidth);\n          } else {\n            if (videoWidth.indexOf('vw') !== -1) {\n              maxWidth = winWidth * parseInt(videoWidth) / 100;\n            } else if (videoWidth.indexOf('vh') !== -1) {\n              maxWidth = winHeight * parseInt(videoWidth) / 100;\n            } else if (videoWidth.indexOf('%') !== -1) {\n              maxWidth = winWidth * parseInt(videoWidth) / 100;\n            } else {\n              maxWidth = parseInt(video.clientWidth);\n            }\n          }\n\n          var maxHeight = maxWidth / (parseInt(videoRatio[0]) / parseInt(videoRatio[1]));\n          maxHeight = Math.floor(maxHeight);\n\n          if (descriptionResize) {\n            winHeight = winHeight - description.offsetHeight;\n          }\n\n          if (maxWidth > winWidth || maxHeight > winHeight || winHeight < maxHeight && winWidth > maxWidth) {\n            var vwidth = video.offsetWidth;\n            var vheight = video.offsetHeight;\n\n            var _ratio = winHeight / vheight;\n\n            var vsize = {\n              width: vwidth * _ratio,\n              height: vheight * _ratio\n            };\n            video.parentNode.setAttribute('style', \"max-width: \".concat(vsize.width, \"px\"));\n\n            if (descriptionResize) {\n              description.setAttribute('style', \"max-width: \".concat(vsize.width, \"px;\"));\n            }\n          } else {\n            video.parentNode.style.maxWidth = \"\".concat(videoWidth);\n\n            if (descriptionResize) {\n              description.setAttribute('style', \"max-width: \".concat(videoWidth, \";\"));\n            }\n          }\n        }\n      }\n    }, {\n      key: \"reload\",\n      value: function reload() {\n        this.init();\n      }\n    }, {\n      key: \"updateNavigationClasses\",\n      value: function updateNavigationClasses() {\n        var loop = this.loop();\n\n        removeClass(this.nextButton, 'disabled');\n\n        removeClass(this.prevButton, 'disabled');\n\n        if (this.index == 0 && this.elements.length - 1 == 0) {\n          addClass(this.prevButton, 'disabled');\n\n          addClass(this.nextButton, 'disabled');\n        } else if (this.index === 0 && !loop) {\n          addClass(this.prevButton, 'disabled');\n        } else if (this.index === this.elements.length - 1 && !loop) {\n          addClass(this.nextButton, 'disabled');\n        }\n      }\n    }, {\n      key: \"loop\",\n      value: function loop() {\n        var loop = has(this.settings, 'loopAtEnd') ? this.settings.loopAtEnd : null;\n        loop = has(this.settings, 'loop') ? this.settings.loop : loop;\n        return loop;\n      }\n    }, {\n      key: \"close\",\n      value: function close() {\n        var _this8 = this;\n\n        if (!this.lightboxOpen) {\n          if (this.events) {\n            for (var key in this.events) {\n              if (this.events.hasOwnProperty(key)) {\n                this.events[key].destroy();\n              }\n            }\n\n            this.events = null;\n          }\n\n          return false;\n        }\n\n        if (this.closing) {\n          return false;\n        }\n\n        this.closing = true;\n        this.slidePlayerPause(this.activeSlide);\n\n        if (this.fullElementsList) {\n          this.elements = this.fullElementsList;\n        }\n\n        if (this.bodyHiddenChildElms.length) {\n          each(this.bodyHiddenChildElms, function (el) {\n            el.removeAttribute('aria-hidden');\n          });\n        }\n\n        addClass(this.modal, 'glightbox-closing');\n\n        animateElement(this.overlay, this.settings.openEffect == 'none' ? 'none' : this.settings.cssEfects.fade.out);\n\n        animateElement(this.activeSlide, this.settings.cssEfects[this.settings.closeEffect].out, function () {\n          _this8.activeSlide = null;\n          _this8.prevActiveSlideIndex = null;\n          _this8.prevActiveSlide = null;\n          _this8.built = false;\n\n          if (_this8.events) {\n            for (var _key in _this8.events) {\n              if (_this8.events.hasOwnProperty(_key)) {\n                _this8.events[_key].destroy();\n              }\n            }\n\n            _this8.events = null;\n          }\n\n          var body = document.body;\n\n          removeClass(html, 'glightbox-open');\n\n          removeClass(body, 'glightbox-open touching gdesc-open glightbox-touch glightbox-mobile gscrollbar-fixer');\n\n          _this8.modal.parentNode.removeChild(_this8.modal);\n\n          _this8.trigger('close');\n\n          if (isFunction(_this8.settings.onClose)) {\n            _this8.settings.onClose();\n          }\n\n          var styles = document.querySelector('.gcss-styles');\n\n          if (styles) {\n            styles.parentNode.removeChild(styles);\n          }\n\n          _this8.lightboxOpen = false;\n          _this8.closing = null;\n        });\n      }\n    }, {\n      key: \"destroy\",\n      value: function destroy() {\n        this.close();\n        this.clearAllEvents();\n\n        if (this.baseEvents) {\n          this.baseEvents.destroy();\n        }\n      }\n    }, {\n      key: \"on\",\n      value: function on(evt, callback) {\n        var once = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n        if (!evt || !isFunction(callback)) {\n          throw new TypeError('Event name and callback must be defined');\n        }\n\n        this.apiEvents.push({\n          evt: evt,\n          once: once,\n          callback: callback\n        });\n      }\n    }, {\n      key: \"once\",\n      value: function once(evt, callback) {\n        this.on(evt, callback, true);\n      }\n    }, {\n      key: \"trigger\",\n      value: function trigger(eventName) {\n        var _this9 = this;\n\n        var data = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n        var onceTriggered = [];\n\n        each(this.apiEvents, function (event, i) {\n          var evt = event.evt,\n              once = event.once,\n              callback = event.callback;\n\n          if (evt == eventName) {\n            callback(data);\n\n            if (once) {\n              onceTriggered.push(i);\n            }\n          }\n        });\n\n        if (onceTriggered.length) {\n          each(onceTriggered, function (i) {\n            return _this9.apiEvents.splice(i, 1);\n          });\n        }\n      }\n    }, {\n      key: \"clearAllEvents\",\n      value: function clearAllEvents() {\n        this.apiEvents.splice(0, this.apiEvents.length);\n      }\n    }, {\n      key: \"version\",\n      value: function version() {\n        return _version;\n      }\n    }]);\n\n    return GlightboxInit;\n  }();\n\n  function glightbox () {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var instance = new GlightboxInit(options);\n    instance.init();\n    return instance;\n  }\n\n  return glightbox;\n\n})));\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}